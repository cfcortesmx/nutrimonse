import{e,c as t,m as s,s as i,a as r,b as n,d as a,g as o,f as l,h as u,i as h,L as d,S as c}from"./vendor-coPzR_Iy.js";import{r as p,g as f,a as g,l as m}from"./utils-oZWLPiUs.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v={};function y(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var b,k,_,C,E,w,x,F,S,A,M,I,T,L=function(){return b||"undefined"!=typeof window&&(b=window.gsap)&&b.registerPlugin&&b},D=1,B=[],P=[],V=[],O=Date.now,R=function(e,t){return t},z=function(e,t){return~V.indexOf(e)&&V[V.indexOf(e)+1][t]},N=function(e){return!!~A.indexOf(e)},j=function(e,t,s,i,r){return e.addEventListener(t,s,{passive:!1!==i,capture:!!r})},q=function(e,t,s,i){return e.removeEventListener(t,s,!!i)},$="scrollLeft",Y="scrollTop",U=function(){return M&&M.isPressed||P.cache++},H=function(e,t){var s=function s(i){if(i||0===i){D&&(_.history.scrollRestoration="manual");var r=M&&M.isPressed;i=s.v=Math.round(i)||(M&&M.iOS?1:0),e(i),s.cacheID=P.cache,r&&R("ss",i)}else(t||P.cache!==s.cacheID||R("ref"))&&(s.cacheID=P.cache,s.v=e());return s.v+s.offset};return s.offset=0,e&&s},G={s:$,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:H(function(e){return arguments.length?_.scrollTo(e,X.sc()):_.pageXOffset||C[$]||E[$]||w[$]||0})},X={s:Y,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:G,sc:H(function(e){return arguments.length?_.scrollTo(G.sc(),e):_.pageYOffset||C[Y]||E[Y]||w[Y]||0})},K=function(e,t){return(t&&t._ctx&&t._ctx.selector||b.utils.toArray)(e)[0]||("string"==typeof e&&!1!==b.config().nullTargetWarn?console.warn("Element not found:",e):null)},W=function(e,t){var s=t.s,i=t.sc;N(e)&&(e=C.scrollingElement||E);var r=P.indexOf(e),n=i===X.sc?1:2;!~r&&(r=P.push(e)-1),P[r+n]||j(e,"scroll",U);var a=P[r+n],o=a||(P[r+n]=H(z(e,s),!0)||(N(e)?i:H(function(t){return arguments.length?e[s]=t:e[s]})));return o.target=e,a||(o.smooth="smooth"===b.getProperty(e,"scrollBehavior")),o},Z=function(e,t,s){var i=e,r=e,n=O(),a=n,o=t||50,l=Math.max(500,3*o),u=function(e,t){var l=O();t||l-n>o?(r=i,i=e,a=n,n=l):s?i+=e:i=r+(e-r)/(l-a)*(n-a)};return{update:u,reset:function(){r=i=s?0:i,a=n=0},getVelocity:function(e){var t=a,o=r,h=O();return(e||0===e)&&e!==i&&u(e),n===a||h-a>l?0:(i+(s?o:-o))/((s?h:n)-t)*1e3}}},J=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Q=function(e){var t=Math.max.apply(Math,e),s=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(s)?t:s},ee=function(){var e,t,s,i;(S=b.core.globals().ScrollTrigger)&&S.core&&(e=S.core,t=e.bridge||{},s=e._scrollers,i=e._proxies,s.push.apply(s,P),i.push.apply(i,V),P=s,V=i,R=function(e,s){return t[e](s)})},te=function(e){return b=e||L(),!k&&b&&"undefined"!=typeof document&&document.body&&(_=window,C=document,E=C.documentElement,w=C.body,A=[_,C,E,w],b.utils.clamp,T=b.core.context||function(){},F="onpointerenter"in w?"pointer":"mouse",x=se.isTouch=_.matchMedia&&_.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,I=se.eventTypes=("ontouchstart"in E?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in E?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return D=0},500),ee(),k=1),k};G.op=X,P.cache=0;var se=function(){function e(e){this.init(e)}return e.prototype.init=function(e){k||te(b)||console.warn("Please gsap.registerPlugin(Observer)"),S||ee();var t=e.tolerance,s=e.dragMinimum,i=e.type,r=e.target,n=e.lineHeight,a=e.debounce,o=e.preventDefault,l=e.onStop,u=e.onStopDelay,h=e.ignore,d=e.wheelSpeed,c=e.event,p=e.onDragStart,f=e.onDragEnd,g=e.onDrag,m=e.onPress,v=e.onRelease,y=e.onRight,A=e.onLeft,L=e.onUp,D=e.onDown,P=e.onChangeX,V=e.onChangeY,R=e.onChange,z=e.onToggleX,$=e.onToggleY,Y=e.onHover,H=e.onHoverEnd,se=e.onMove,ie=e.ignoreCheck,re=e.isNormalizer,ne=e.onGestureStart,ae=e.onGestureEnd,oe=e.onWheel,le=e.onEnable,ue=e.onDisable,he=e.onClick,de=e.scrollSpeed,ce=e.capture,pe=e.allowClicks,fe=e.lockAxis,ge=e.onLockAxis;this.target=r=K(r)||E,this.vars=e,h&&(h=b.utils.toArray(h)),t=t||1e-9,s=s||0,d=d||1,de=de||1,i=i||"wheel,touch,pointer",a=!1!==a,n||(n=parseFloat(_.getComputedStyle(w).lineHeight)||22);var me,ve,ye,be,ke,_e,Ce,Ee=this,we=0,xe=0,Fe=e.passive||!o&&!1!==e.passive,Se=W(r,G),Ae=W(r,X),Me=Se(),Ie=Ae(),Te=~i.indexOf("touch")&&!~i.indexOf("pointer")&&"pointerdown"===I[0],Le=N(r),De=r.ownerDocument||C,Be=[0,0,0],Pe=[0,0,0],Ve=0,Oe=function(){return Ve=O()},Re=function(e,t){return(Ee.event=e)&&h&&function(e,t){for(var s=t.length;s--;)if(t[s]===e||t[s].contains(e))return!0;return!1}(e.target,h)||t&&Te&&"touch"!==e.pointerType||ie&&ie(e,t)},ze=function(){var e=Ee.deltaX=Q(Be),s=Ee.deltaY=Q(Pe),i=Math.abs(e)>=t,r=Math.abs(s)>=t;R&&(i||r)&&R(Ee,e,s,Be,Pe),i&&(y&&Ee.deltaX>0&&y(Ee),A&&Ee.deltaX<0&&A(Ee),P&&P(Ee),z&&Ee.deltaX<0!=we<0&&z(Ee),we=Ee.deltaX,Be[0]=Be[1]=Be[2]=0),r&&(D&&Ee.deltaY>0&&D(Ee),L&&Ee.deltaY<0&&L(Ee),V&&V(Ee),$&&Ee.deltaY<0!=xe<0&&$(Ee),xe=Ee.deltaY,Pe[0]=Pe[1]=Pe[2]=0),(be||ye)&&(se&&se(Ee),ye&&(p&&1===ye&&p(Ee),g&&g(Ee),ye=0),be=!1),_e&&!(_e=!1)&&ge&&ge(Ee),ke&&(oe(Ee),ke=!1),me=0},Ne=function(e,t,s){Be[s]+=e,Pe[s]+=t,Ee._vx.update(e),Ee._vy.update(t),a?me||(me=requestAnimationFrame(ze)):ze()},je=function(e,t){fe&&!Ce&&(Ee.axis=Ce=Math.abs(e)>Math.abs(t)?"x":"y",_e=!0),"y"!==Ce&&(Be[2]+=e,Ee._vx.update(e,!0)),"x"!==Ce&&(Pe[2]+=t,Ee._vy.update(t,!0)),a?me||(me=requestAnimationFrame(ze)):ze()},qe=function(e){if(!Re(e,1)){var t=(e=J(e,o)).clientX,i=e.clientY,r=t-Ee.x,n=i-Ee.y,a=Ee.isDragging;Ee.x=t,Ee.y=i,(a||(r||n)&&(Math.abs(Ee.startX-t)>=s||Math.abs(Ee.startY-i)>=s))&&(ye=a?2:1,a||(Ee.isDragging=!0),je(r,n))}},$e=Ee.onPress=function(e){Re(e,1)||e&&e.button||(Ee.axis=Ce=null,ve.pause(),Ee.isPressed=!0,e=J(e),we=xe=0,Ee.startX=Ee.x=e.clientX,Ee.startY=Ee.y=e.clientY,Ee._vx.reset(),Ee._vy.reset(),j(re?r:De,I[1],qe,Fe,!0),Ee.deltaX=Ee.deltaY=0,m&&m(Ee))},Ye=Ee.onRelease=function(e){if(!Re(e,1)){q(re?r:De,I[1],qe,!0);var t=!isNaN(Ee.y-Ee.startY),s=Ee.isDragging,i=s&&(Math.abs(Ee.x-Ee.startX)>3||Math.abs(Ee.y-Ee.startY)>3),n=J(e);!i&&t&&(Ee._vx.reset(),Ee._vy.reset(),o&&pe&&b.delayedCall(.08,function(){if(O()-Ve>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(De.createEvent){var t=De.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,_,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),Ee.isDragging=Ee.isGesturing=Ee.isPressed=!1,l&&s&&!re&&ve.restart(!0),ye&&ze(),f&&s&&f(Ee),v&&v(Ee,i)}},Ue=function(e){return e.touches&&e.touches.length>1&&(Ee.isGesturing=!0)&&ne(e,Ee.isDragging)},He=function(){return(Ee.isGesturing=!1)||ae(Ee)},Ge=function(e){if(!Re(e)){var t=Se(),s=Ae();Ne((t-Me)*de,(s-Ie)*de,1),Me=t,Ie=s,l&&ve.restart(!0)}},Xe=function(e){if(!Re(e)){e=J(e,o),oe&&(ke=!0);var t=(1===e.deltaMode?n:2===e.deltaMode?_.innerHeight:1)*d;Ne(e.deltaX*t,e.deltaY*t,0),l&&!re&&ve.restart(!0)}},Ke=function(e){if(!Re(e)){var t=e.clientX,s=e.clientY,i=t-Ee.x,r=s-Ee.y;Ee.x=t,Ee.y=s,be=!0,l&&ve.restart(!0),(i||r)&&je(i,r)}},We=function(e){Ee.event=e,Y(Ee)},Ze=function(e){Ee.event=e,H(Ee)},Je=function(e){return Re(e)||J(e,o)&&he(Ee)};ve=Ee._dc=b.delayedCall(u||.25,function(){Ee._vx.reset(),Ee._vy.reset(),ve.pause(),l&&l(Ee)}).pause(),Ee.deltaX=Ee.deltaY=0,Ee._vx=Z(0,50,!0),Ee._vy=Z(0,50,!0),Ee.scrollX=Se,Ee.scrollY=Ae,Ee.isDragging=Ee.isGesturing=Ee.isPressed=!1,T(this),Ee.enable=function(e){return Ee.isEnabled||(j(Le?De:r,"scroll",U),i.indexOf("scroll")>=0&&j(Le?De:r,"scroll",Ge,Fe,ce),i.indexOf("wheel")>=0&&j(r,"wheel",Xe,Fe,ce),(i.indexOf("touch")>=0&&x||i.indexOf("pointer")>=0)&&(j(r,I[0],$e,Fe,ce),j(De,I[2],Ye),j(De,I[3],Ye),pe&&j(r,"click",Oe,!0,!0),he&&j(r,"click",Je),ne&&j(De,"gesturestart",Ue),ae&&j(De,"gestureend",He),Y&&j(r,F+"enter",We),H&&j(r,F+"leave",Ze),se&&j(r,F+"move",Ke)),Ee.isEnabled=!0,Ee.isDragging=Ee.isGesturing=Ee.isPressed=be=ye=!1,Ee._vx.reset(),Ee._vy.reset(),Me=Se(),Ie=Ae(),e&&e.type&&$e(e),le&&le(Ee)),Ee},Ee.disable=function(){Ee.isEnabled&&(B.filter(function(e){return e!==Ee&&N(e.target)}).length||q(Le?De:r,"scroll",U),Ee.isPressed&&(Ee._vx.reset(),Ee._vy.reset(),q(re?r:De,I[1],qe,!0)),q(Le?De:r,"scroll",Ge,ce),q(r,"wheel",Xe,ce),q(r,I[0],$e,ce),q(De,I[2],Ye),q(De,I[3],Ye),q(r,"click",Oe,!0),q(r,"click",Je),q(De,"gesturestart",Ue),q(De,"gestureend",He),q(r,F+"enter",We),q(r,F+"leave",Ze),q(r,F+"move",Ke),Ee.isEnabled=Ee.isPressed=Ee.isDragging=!1,ue&&ue(Ee))},Ee.kill=Ee.revert=function(){Ee.disable();var e=B.indexOf(Ee);e>=0&&B.splice(e,1),M===Ee&&(M=0)},B.push(Ee),re&&N(r)&&(M=Ee),Ee.enable(c)},y(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();se.version="3.13.0",se.create=function(e){return new se(e)},se.register=te,se.getAll=function(){return B.slice()},se.getById=function(e){return B.filter(function(t){return t.vars.id===e})[0]},L()&&b.registerPlugin(se);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var ie,re,ne,ae,oe,le,ue,he,de,ce,pe,fe,ge,me,ve,ye,be,ke,_e,Ce,Ee,we,xe,Fe,Se,Ae,Me,Ie,Te,Le,De,Be,Pe,Ve,Oe,Re,ze,Ne,je=1,qe=Date.now,$e=qe(),Ye=0,Ue=0,He=function(e,t,s){var i=at(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return s["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},Ge=function(e,t){return!t||at(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Xe=function e(){return Ue&&requestAnimationFrame(e)},Ke=function(){return me=1},We=function(){return me=0},Ze=function(e){return e},Je=function(e){return Math.round(1e5*e)/1e5||0},Qe=function(){return"undefined"!=typeof window},et=function(){return ie||Qe()&&(ie=window.gsap)&&ie.registerPlugin&&ie},tt=function(e){return!!~ue.indexOf(e)},st=function(e){return("Height"===e?De:ne["inner"+e])||oe["client"+e]||le["client"+e]},it=function(e){return z(e,"getBoundingClientRect")||(tt(e)?function(){return ms.width=ne.innerWidth,ms.height=De,ms}:function(){return Mt(e)})},rt=function(e,t){var s=t.s,i=t.d2,r=t.d,n=t.a;return Math.max(0,(s="scroll"+i)&&(n=z(e,s))?n()-it(e)()[r]:tt(e)?(oe[s]||le[s])-st(i):e[s]-e["offset"+i])},nt=function(e,t){for(var s=0;s<_e.length;s+=3)(!t||~t.indexOf(_e[s+1]))&&e(_e[s],_e[s+1],_e[s+2])},at=function(e){return"string"==typeof e},ot=function(e){return"function"==typeof e},lt=function(e){return"number"==typeof e},ut=function(e){return"object"==typeof e},ht=function(e,t,s){return e&&e.progress(t?0:1)&&s&&e.pause()},dt=function(e,t){if(e.enabled){var s=e._ctx?e._ctx.add(function(){return t(e)}):t(e);s&&s.totalTime&&(e.callbackAnimation=s)}},ct=Math.abs,pt="left",ft="right",gt="bottom",mt="width",vt="height",yt="Right",bt="Left",kt="Top",_t="Bottom",Ct="padding",Et="margin",wt="Width",xt="Height",Ft="px",St=function(e){return ne.getComputedStyle(e)},At=function(e,t){for(var s in t)s in e||(e[s]=t[s]);return e},Mt=function(e,t){var s=t&&"matrix(1, 0, 0, 1, 0, 0)"!==St(e)[ve]&&ie.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return s&&s.progress(0).kill(),i},It=function(e,t){var s=t.d2;return e["offset"+s]||e["client"+s]||0},Tt=function(e){var t,s=[],i=e.labels,r=e.duration();for(t in i)s.push(i[t]/r);return s},Lt=function(e){var t=ie.utils.snap(e),s=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return s?function(e,i,r){var n;if(void 0===r&&(r=.001),!i)return t(e);if(i>0){for(e-=r,n=0;n<s.length;n++)if(s[n]>=e)return s[n];return s[n-1]}for(n=s.length,e+=r;n--;)if(s[n]<=e)return s[n];return s[0]}:function(s,i,r){void 0===r&&(r=.001);var n=t(s);return!i||Math.abs(n-s)<r||n-s<0==i<0?n:t(i<0?s-e:s+e)}},Dt=function(e,t,s,i){return s.split(",").forEach(function(s){return e(t,s,i)})},Bt=function(e,t,s,i,r){return e.addEventListener(t,s,{passive:!i,capture:!!r})},Pt=function(e,t,s,i){return e.removeEventListener(t,s,!!i)},Vt=function(e,t,s){(s=s&&s.wheelHandler)&&(e(t,"wheel",s),e(t,"touchmove",s))},Ot={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Rt={toggleActions:"play",anticipatePin:0},zt={top:0,left:0,center:.5,bottom:1,right:1},Nt=function(e,t){if(at(e)){var s=e.indexOf("="),i=~s?+(e.charAt(s-1)+1)*parseFloat(e.substr(s+1)):0;~s&&(e.indexOf("%")>s&&(i*=t/100),e=e.substr(0,s-1)),e=i+(e in zt?zt[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},jt=function(e,t,s,i,r,n,a,o){var l=r.startColor,u=r.endColor,h=r.fontSize,d=r.indent,c=r.fontWeight,p=ae.createElement("div"),f=tt(s)||"fixed"===z(s,"pinType"),g=-1!==e.indexOf("scroller"),m=f?le:s,v=-1!==e.indexOf("start"),y=v?l:u,b="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+c+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((g||o)&&f?"fixed;":"absolute;"),(g||o||!f)&&(b+=(i===X?ft:gt)+":"+(n+parseFloat(d))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+i.op.d2],qt(p,0,i,v),p},qt=function(e,t,s,i){var r={display:"block"},n=s[i?"os2":"p2"],a=s[i?"p2":"os2"];e._isFlipped=i,r[s.a+"Percent"]=i?-100:0,r[s.a]=i?"1px":0,r["border"+n+wt]=1,r["border"+a+wt]=0,r[s.p]=t+"px",ie.set(e,r)},$t=[],Yt={},Ut=function(){return qe()-Ye>34&&(Oe||(Oe=requestAnimationFrame(us)))},Ht=function(){(!xe||!xe.isPressed||xe.startX>le.clientWidth)&&(P.cache++,xe?Oe||(Oe=requestAnimationFrame(us)):us(),Ye||Jt("scrollStart"),Ye=qe())},Gt=function(){Ae=ne.innerWidth,Se=ne.innerHeight},Xt=function(e){P.cache++,(!0===e||!ge&&!we&&!ae.fullscreenElement&&!ae.webkitFullscreenElement&&(!Fe||Ae!==ne.innerWidth||Math.abs(ne.innerHeight-Se)>.25*ne.innerHeight))&&he.restart(!0)},Kt={},Wt=[],Zt=function e(){return Pt(Es,"scrollEnd",e)||as(!0)},Jt=function(e){return Kt[e]&&Kt[e].map(function(e){return e()})||Wt},Qt=[],es=function(e){for(var t=0;t<Qt.length;t+=5)(!e||Qt[t+4]&&Qt[t+4].query===e)&&(Qt[t].style.cssText=Qt[t+1],Qt[t].getBBox&&Qt[t].setAttribute("transform",Qt[t+2]||""),Qt[t+3].uncache=1)},ts=function(e,t){var s;for(ye=0;ye<$t.length;ye++)!(s=$t[ye])||t&&s._ctx!==t||(e?s.kill(1):s.revert(!0,!0));Be=!0,t&&es(t),t||Jt("revert")},ss=function(e,t){P.cache++,(t||!Re)&&P.forEach(function(e){return ot(e)&&e.cacheID++&&(e.rec=0)}),at(e)&&(ne.history.scrollRestoration=Te=e)},is=0,rs=function(){le.appendChild(Le),De=!xe&&Le.offsetHeight||ne.innerHeight,le.removeChild(Le)},ns=function(e){return de(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},as=function(e,t){if(oe=ae.documentElement,le=ae.body,ue=[ne,ae,oe,le],!Ye||e||Be){rs(),Re=Es.isRefreshing=!0,P.forEach(function(e){return ot(e)&&++e.cacheID&&(e.rec=e())});var s=Jt("refreshInit");Ce&&Es.sort(),t||ts(),P.forEach(function(e){ot(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),$t.slice(0).forEach(function(e){return e.refresh()}),Be=!1,$t.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",s=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-s),e.refresh()}}),Pe=1,ns(!0),$t.forEach(function(e){var t=rt(e.scroller,e._dir),s="max"===e.vars.end||e._endClamp&&e.end>t,i=e._startClamp&&e.start>=t;(s||i)&&e.setPositions(i?t-1:e.start,s?Math.max(i?t:e.start+1,t):e.end,!0)}),ns(!1),Pe=0,s.forEach(function(e){return e&&e.render&&e.render(-1)}),P.forEach(function(e){ot(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),ss(Te,1),he.pause(),is++,Re=2,us(2),$t.forEach(function(e){return ot(e.vars.onRefresh)&&e.vars.onRefresh(e)}),Re=Es.isRefreshing=!1,Jt("refresh")}else Bt(Es,"scrollEnd",Zt)},os=0,ls=1,us=function(e){if(2===e||!Re&&!Be){Es.isUpdating=!0,Ne&&Ne.update(0);var t=$t.length,s=qe(),i=s-$e>=50,r=t&&$t[0].scroll();if(ls=os>r?-1:1,Re||(os=r),i&&(Ye&&!me&&s-Ye>200&&(Ye=0,Jt("scrollEnd")),pe=$e,$e=s),ls<0){for(ye=t;ye-- >0;)$t[ye]&&$t[ye].update(0,i);ls=1}else for(ye=0;ye<t;ye++)$t[ye]&&$t[ye].update(0,i);Es.isUpdating=!1}Oe=0},hs=[pt,"top",gt,ft,Et+_t,Et+yt,Et+kt,Et+bt,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ds=hs.concat([mt,vt,"boxSizing","max"+wt,"max"+xt,"position",Et,Ct,Ct+kt,Ct+yt,Ct+_t,Ct+bt]),cs=function(e,t,s,i){if(!e._gsap.swappedIn){for(var r,n=hs.length,a=t.style,o=e.style;n--;)a[r=hs[n]]=s[r];a.position="absolute"===s.position?"absolute":"relative","inline"===s.display&&(a.display="inline-block"),o[gt]=o[ft]="auto",a.flexBasis=s.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[mt]=It(e,G)+Ft,a[vt]=It(e,X)+Ft,a[Ct]=o[Et]=o.top=o[pt]="0",fs(i),o[mt]=o["max"+wt]=s[mt],o[vt]=o["max"+xt]=s[vt],o[Ct]=s[Ct],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},ps=/([A-Z])/g,fs=function(e){if(e){var t,s,i=e.t.style,r=e.length,n=0;for((e.t._gsap||ie.core.getCache(e.t)).uncache=1;n<r;n+=2)s=e[n+1],t=e[n],s?i[t]=s:i[t]&&i.removeProperty(t.replace(ps,"-$1").toLowerCase())}},gs=function(e){for(var t=ds.length,s=e.style,i=[],r=0;r<t;r++)i.push(ds[r],s[ds[r]]);return i.t=e,i},ms={left:0,top:0},vs=function(e,t,s,i,r,n,a,o,l,u,h,d,c,p){ot(e)&&(e=e(o)),at(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?Nt("0"+e.substr(3),s):0));var f,g,m,v=c?c.time():0;if(c&&c.seek(0),isNaN(e)||(e=+e),lt(e))c&&(e=ie.utils.mapRange(c.scrollTrigger.start,c.scrollTrigger.end,0,d,e)),a&&qt(a,s,i,!0);else{ot(t)&&(t=t(o));var y,b,k,_,C=(e||"0").split(" ");m=K(t,o)||le,(y=Mt(m)||{})&&(y.left||y.top)||"none"!==St(m).display||(_=m.style.display,m.style.display="block",y=Mt(m),_?m.style.display=_:m.style.removeProperty("display")),b=Nt(C[0],y[i.d]),k=Nt(C[1]||"0",s),e=y[i.p]-l[i.p]-u+b+r-k,a&&qt(a,k,i,s-k<20||a._isStart&&k>20),s-=s-k}if(p&&(o[p]=e||-.001,e<0&&(e=0)),n){var E=e+s,w=n._isStart;f="scroll"+i.d2,qt(n,E,i,w&&E>20||!w&&(h?Math.max(le[f],oe[f]):n.parentNode[f])<=E+1),h&&(l=Mt(a),h&&(n.style[i.op.p]=l[i.op.p]-i.op.m-n._offset+Ft))}return c&&m&&(f=Mt(m),c.seek(d),g=Mt(m),c._caScrollDist=f[i.p]-g[i.p],e=e/c._caScrollDist*d),c&&c.seek(v),c?e:Math.round(e)},ys=/(webkit|moz|length|cssText|inset)/i,bs=function(e,t,s,i){if(e.parentNode!==t){var r,n,a=e.style;if(t===le){for(r in e._stOrig=a.cssText,n=St(e))+r||ys.test(r)||!n[r]||"string"!=typeof a[r]||"0"===r||(a[r]=n[r]);a.top=s,a.left=i}else a.cssText=e._stOrig;ie.core.getCache(e).uncache=1,t.appendChild(e)}},ks=function(e,t,s){var i=t,r=i;return function(t){var n=Math.round(e());return n!==i&&n!==r&&Math.abs(n-i)>3&&Math.abs(n-r)>3&&(t=n,s&&s()),r=i,i=Math.round(t)}},_s=function(e,t,s){var i={};i[t.p]="+="+s,ie.set(e,i)},Cs=function(e,t){var s=W(e,t),i="_scroll"+t.p2,r=function t(r,n,a,o,l){var u=t.tween,h=n.onComplete,d={};a=a||s();var c=ks(s,a,function(){u.kill(),t.tween=0});return l=o&&l||0,o=o||r-a,u&&u.kill(),n[i]=r,n.inherit=!1,n.modifiers=d,d[i]=function(){return c(a+o*u.ratio+l*u.ratio*u.ratio)},n.onUpdate=function(){P.cache++,t.tween&&us()},n.onComplete=function(){t.tween=0,h&&h.call(u)},u=t.tween=ie.to(e,n)};return e[i]=s,s.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},Bt(e,"wheel",s.wheelHandler),Es.isTouch&&Bt(e,"touchmove",s.wheelHandler),r},Es=function(){function e(t,s){re||e.register(ie)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Ie(this),this.init(t,s)}return e.prototype.init=function(t,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Ue){var i,r,n,a,o,l,u,h,d,c,p,f,g,m,v,y,b,k,_,C,E,w,x,F,S,A,M,I,T,L,D,B,O,R,N,j,q,$,Y,U,H,Z,J=t=At(at(t)||lt(t)||t.nodeType?{trigger:t}:t,Rt),Q=J.onUpdate,ee=J.toggleClass,te=J.id,se=J.onToggle,re=J.onRefresh,ue=J.scrub,he=J.trigger,fe=J.pin,ve=J.pinSpacing,be=J.invalidateOnRefresh,ke=J.anticipatePin,_e=J.onScrubComplete,we=J.onSnapComplete,xe=J.once,Fe=J.snap,Se=J.pinReparent,Ae=J.pinSpacer,Me=J.containerAnimation,Ie=J.fastScrollEnd,Te=J.preventOverlaps,Le=t.horizontal||t.containerAnimation&&!1!==t.horizontal?G:X,De=!ue&&0!==ue,Be=K(t.scroller||ne),Oe=ie.core.getCache(Be),$e=tt(Be),Xe="fixed"===("pinType"in t?t.pinType:z(Be,"pinType")||$e&&"fixed"),Ke=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],We=De&&t.toggleActions.split(" "),Qe="markers"in t?t.markers:Rt.markers,et=$e?0:parseFloat(St(Be)["border"+Le.p2+wt])||0,nt=this,pt=t.onRefreshInit&&function(){return t.onRefreshInit(nt)},ft=function(e,t,s){var i=s.d,r=s.d2,n=s.a;return(n=z(e,"getBoundingClientRect"))?function(){return n()[i]}:function(){return(t?st(r):e["client"+r])||0}}(Be,$e,Le),gt=function(e,t){return!t||~V.indexOf(e)?it(e):function(){return ms}}(Be,$e),Dt=0,Vt=0,zt=0,qt=W(Be,Le);if(nt._startClamp=nt._endClamp=!1,nt._dir=Le,ke*=45,nt.scroller=Be,nt.scroll=Me?Me.time.bind(Me):qt,a=qt(),nt.vars=t,s=s||t.animation,"refreshPriority"in t&&(Ce=1,-9999===t.refreshPriority&&(Ne=nt)),Oe.tweenScroll=Oe.tweenScroll||{top:Cs(Be,X),left:Cs(Be,G)},nt.tweenTo=i=Oe.tweenScroll[Le.p],nt.scrubDuration=function(e){(O=lt(e)&&e)?B?B.duration(e):B=ie.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:O,paused:!0,onComplete:function(){return _e&&_e(nt)}}):(B&&B.progress(1).kill(),B=0)},s&&(s.vars.lazy=!1,s._initted&&!nt.isReverted||!1!==s.vars.immediateRender&&!1!==t.immediateRender&&s.duration()&&s.render(0,!0,!0),nt.animation=s.pause(),s.scrollTrigger=nt,nt.scrubDuration(ue),L=0,te||(te=s.vars.id)),Fe&&(ut(Fe)&&!Fe.push||(Fe={snapTo:Fe}),"scrollBehavior"in le.style&&ie.set($e?[le,oe]:Be,{scrollBehavior:"auto"}),P.forEach(function(e){return ot(e)&&e.target===($e?ae.scrollingElement||oe:Be)&&(e.smooth=!1)}),n=ot(Fe.snapTo)?Fe.snapTo:"labels"===Fe.snapTo?function(e){return function(t){return ie.utils.snap(Tt(e),t)}}(s):"labelsDirectional"===Fe.snapTo?(U=s,function(e,t){return Lt(Tt(U))(e,t.direction)}):!1!==Fe.directional?function(e,t){return Lt(Fe.snapTo)(e,qe()-Vt<500?0:t.direction)}:ie.utils.snap(Fe.snapTo),R=Fe.duration||{min:.1,max:2},R=ut(R)?ce(R.min,R.max):ce(R,R),N=ie.delayedCall(Fe.delay||O/2||.1,function(){var e=qt(),t=qe()-Vt<500,r=i.tween;if(!(t||Math.abs(nt.getVelocity())<10)||r||me||Dt===e)nt.isActive&&Dt!==e&&N.restart(!0);else{var a,o,h=(e-l)/m,d=s&&!De?s.totalProgress():h,c=t?0:(d-D)/(qe()-pe)*1e3||0,p=ie.utils.clamp(-h,1-h,ct(c/2)*c/.185),f=h+(!1===Fe.inertia?0:p),g=Fe,v=g.onStart,y=g.onInterrupt,b=g.onComplete;if(a=n(f,nt),lt(a)||(a=f),o=Math.max(0,Math.round(l+a*m)),e<=u&&e>=l&&o!==e){if(r&&!r._initted&&r.data<=ct(o-e))return;!1===Fe.inertia&&(p=a-h),i(o,{duration:R(ct(.185*Math.max(ct(f-d),ct(a-d))/c/.05||0)),ease:Fe.ease||"power3",data:ct(o-e),onInterrupt:function(){return N.restart(!0)&&y&&y(nt)},onComplete:function(){nt.update(),Dt=qt(),s&&!De&&(B?B.resetTo("totalProgress",a,s._tTime/s._tDur):s.progress(a)),L=D=s&&!De?s.totalProgress():nt.progress,we&&we(nt),b&&b(nt)}},e,p*m,o-e-p*m),v&&v(nt,i.tween)}}}).pause()),te&&(Yt[te]=nt),(Y=(he=nt.trigger=K(he||!0!==fe&&fe))&&he._gsap&&he._gsap.stRevert)&&(Y=Y(nt)),fe=!0===fe?he:K(fe),at(ee)&&(ee={targets:he,className:ee}),fe&&(!1===ve||ve===Et||(ve=!(!ve&&fe.parentNode&&fe.parentNode.style&&"flex"===St(fe.parentNode).display)&&Ct),nt.pin=fe,(r=ie.core.getCache(fe)).spacer?v=r.pinState:(Ae&&((Ae=K(Ae))&&!Ae.nodeType&&(Ae=Ae.current||Ae.nativeElement),r.spacerIsNative=!!Ae,Ae&&(r.spacerState=gs(Ae))),r.spacer=k=Ae||ae.createElement("div"),k.classList.add("pin-spacer"),te&&k.classList.add("pin-spacer-"+te),r.pinState=v=gs(fe)),!1!==t.force3D&&ie.set(fe,{force3D:!0}),nt.spacer=k=r.spacer,T=St(fe),F=T[ve+Le.os2],C=ie.getProperty(fe),E=ie.quickSetter(fe,Le.a,Ft),cs(fe,k,T),b=gs(fe)),Qe){f=ut(Qe)?At(Qe,Ot):Ot,c=jt("scroller-start",te,Be,Le,f,0),p=jt("scroller-end",te,Be,Le,f,0,c),_=c["offset"+Le.op.d2];var Ut=K(z(Be,"content")||Be);h=this.markerStart=jt("start",te,Ut,Le,f,_,0,Me),d=this.markerEnd=jt("end",te,Ut,Le,f,_,0,Me),Me&&($=ie.quickSetter([h,d],Le.a,Ft)),Xe||V.length&&!0===z(Be,"fixedMarkers")||(Z=St(H=$e?le:Be).position,H.style.position="absolute"===Z||"fixed"===Z?Z:"relative",ie.set([c,p],{force3D:!0}),A=ie.quickSetter(c,Le.a,Ft),I=ie.quickSetter(p,Le.a,Ft))}if(Me){var Gt=Me.vars.onUpdate,Kt=Me.vars.onUpdateParams;Me.eventCallback("onUpdate",function(){nt.update(0,0,1),Gt&&Gt.apply(Me,Kt||[])})}if(nt.previous=function(){return $t[$t.indexOf(nt)-1]},nt.next=function(){return $t[$t.indexOf(nt)+1]},nt.revert=function(e,t){if(!t)return nt.kill(!0);var i=!1!==e||!nt.enabled,r=ge;i!==nt.isReverted&&(i&&(j=Math.max(qt(),nt.scroll.rec||0),zt=nt.progress,q=s&&s.progress()),h&&[h,d,c,p].forEach(function(e){return e.style.display=i?"none":"block"}),i&&(ge=nt,nt.update(i)),!fe||Se&&nt.isActive||(i?function(e,t,s){fs(s);var i=e._gsap;if(i.spacerIsNative)fs(i.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1}(fe,k,v):cs(fe,k,St(fe),S)),i||nt.update(i),ge=r,nt.isReverted=i)},nt.refresh=function(r,n,f,_){if(!ge&&nt.enabled||n)if(fe&&r&&Ye)Bt(e,"scrollEnd",Zt);else{!Re&&pt&&pt(nt),ge=nt,i.tween&&!f&&(i.tween.kill(),i.tween=0),B&&B.pause(),be&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),nt.isReverted||nt.revert(!0,!0),nt._subPinOffset=!1;var E,F,A,I,T,L,D,P,V,O,R,z,$,Y=ft(),U=gt(),H=Me?Me.duration():rt(Be,Le),Z=m<=.01||!m,J=0,Q=_||0,ee=ut(f)?f.end:t.end,te=t.endTrigger||he,se=ut(f)?f.start:t.start||(0!==t.start&&he?fe?"0 0":"0 100%":0),ne=nt.pinnedContainer=t.pinnedContainer&&K(t.pinnedContainer,nt),ue=he&&Math.max(0,$t.indexOf(nt))||0,de=ue;for(Qe&&ut(f)&&(z=ie.getProperty(c,Le.p),$=ie.getProperty(p,Le.p));de-- >0;)(L=$t[de]).end||L.refresh(0,1)||(ge=nt),!(D=L.pin)||D!==he&&D!==fe&&D!==ne||L.isReverted||(O||(O=[]),O.unshift(L),L.revert(!0,!0)),L!==$t[de]&&(ue--,de--);for(ot(se)&&(se=se(nt)),se=He(se,"start",nt),l=vs(se,he,Y,Le,qt(),h,c,nt,U,et,Xe,H,Me,nt._startClamp&&"_startClamp")||(fe?-.001:0),ot(ee)&&(ee=ee(nt)),at(ee)&&!ee.indexOf("+=")&&(~ee.indexOf(" ")?ee=(at(se)?se.split(" ")[0]:"")+ee:(J=Nt(ee.substr(2),Y),ee=at(se)?se:(Me?ie.utils.mapRange(0,Me.duration(),Me.scrollTrigger.start,Me.scrollTrigger.end,l):l)+J,te=he)),ee=He(ee,"end",nt),u=Math.max(l,vs(ee||(te?"100% 0":H),te,Y,Le,qt()+J,d,p,nt,U,et,Xe,H,Me,nt._endClamp&&"_endClamp"))||-.001,J=0,de=ue;de--;)(D=(L=$t[de]).pin)&&L.start-L._pinPush<=l&&!Me&&L.end>0&&(E=L.end-(nt._startClamp?Math.max(0,L.start):L.start),(D===he&&L.start-L._pinPush<l||D===ne)&&isNaN(se)&&(J+=E*(1-L.progress)),D===fe&&(Q+=E));if(l+=J,u+=J,nt._startClamp&&(nt._startClamp+=J),nt._endClamp&&!Re&&(nt._endClamp=u||-.001,u=Math.min(u,rt(Be,Le))),m=u-l||(l-=.01)&&.001,Z&&(zt=ie.utils.clamp(0,1,ie.utils.normalize(l,u,j))),nt._pinPush=Q,h&&J&&((E={})[Le.a]="+="+J,ne&&(E[Le.p]="-="+qt()),ie.set([h,d],E)),!fe||Pe&&nt.end>=rt(Be,Le)){if(he&&qt()&&!Me)for(F=he.parentNode;F&&F!==le;)F._pinOffset&&(l-=F._pinOffset,u-=F._pinOffset),F=F.parentNode}else E=St(fe),I=Le===X,A=qt(),w=parseFloat(C(Le.a))+Q,!H&&u>1&&(R={style:R=($e?ae.scrollingElement||oe:Be).style,value:R["overflow"+Le.a.toUpperCase()]},$e&&"scroll"!==St(le)["overflow"+Le.a.toUpperCase()]&&(R.style["overflow"+Le.a.toUpperCase()]="scroll")),cs(fe,k,E),b=gs(fe),F=Mt(fe,!0),P=Xe&&W(Be,I?G:X)(),ve?((S=[ve+Le.os2,m+Q+Ft]).t=k,(de=ve===Ct?It(fe,Le)+m+Q:0)&&(S.push(Le.d,de+Ft),"auto"!==k.style.flexBasis&&(k.style.flexBasis=de+Ft)),fs(S),ne&&$t.forEach(function(e){e.pin===ne&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),Xe&&qt(j)):(de=It(fe,Le))&&"auto"!==k.style.flexBasis&&(k.style.flexBasis=de+Ft),Xe&&((T={top:F.top+(I?A-l:P)+Ft,left:F.left+(I?P:A-l)+Ft,boxSizing:"border-box",position:"fixed"})[mt]=T["max"+wt]=Math.ceil(F.width)+Ft,T[vt]=T["max"+xt]=Math.ceil(F.height)+Ft,T[Et]=T[Et+kt]=T[Et+yt]=T[Et+_t]=T[Et+bt]="0",T[Ct]=E[Ct],T[Ct+kt]=E[Ct+kt],T[Ct+yt]=E[Ct+yt],T[Ct+_t]=E[Ct+_t],T[Ct+bt]=E[Ct+bt],y=function(e,t,s){for(var i,r=[],n=e.length,a=s?8:0;a<n;a+=2)i=e[a],r.push(i,i in t?t[i]:e[a+1]);return r.t=e.t,r}(v,T,Se),Re&&qt(0)),s?(V=s._initted,Ee(1),s.render(s.duration(),!0,!0),x=C(Le.a)-w+m+Q,M=Math.abs(m-x)>1,Xe&&M&&y.splice(y.length-2,2),s.render(0,!0,!0),V||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),Ee(0)):x=m,R&&(R.value?R.style["overflow"+Le.a.toUpperCase()]=R.value:R.style.removeProperty("overflow-"+Le.a));O&&O.forEach(function(e){return e.revert(!1,!0)}),nt.start=l,nt.end=u,a=o=Re?j:qt(),Me||Re||(a<j&&qt(j),nt.scroll.rec=0),nt.revert(!1,!0),Vt=qe(),N&&(Dt=-1,N.restart(!0)),ge=0,s&&De&&(s._initted||q)&&s.progress()!==q&&s.progress(q||0,!0).render(s.time(),!0,!0),(Z||zt!==nt.progress||Me||be||s&&!s._initted)&&(s&&!De&&(s._initted||zt||!1!==s.vars.immediateRender)&&s.totalProgress(Me&&l<-.001&&!zt?ie.utils.normalize(l,u,0):zt,!0),nt.progress=Z||(a-l)/m===zt?0:zt),fe&&ve&&(k._pinOffset=Math.round(nt.progress*x)),B&&B.invalidate(),isNaN(z)||(z-=ie.getProperty(c,Le.p),$-=ie.getProperty(p,Le.p),_s(c,Le,z),_s(h,Le,z-(_||0)),_s(p,Le,$),_s(d,Le,$-(_||0))),Z&&!Re&&nt.update(),!re||Re||g||(g=!0,re(nt),g=!1)}},nt.getVelocity=function(){return(qt()-o)/(qe()-pe)*1e3||0},nt.endAnimation=function(){ht(nt.callbackAnimation),s&&(B?B.progress(1):s.paused()?De||ht(s,nt.direction<0,1):ht(s,s.reversed()))},nt.labelToScroll=function(e){return s&&s.labels&&(l||nt.refresh()||l)+s.labels[e]/s.duration()*m||0},nt.getTrailing=function(e){var t=$t.indexOf(nt),s=nt.direction>0?$t.slice(0,t).reverse():$t.slice(t+1);return(at(e)?s.filter(function(t){return t.vars.preventOverlaps===e}):s).filter(function(e){return nt.direction>0?e.end<=l:e.start>=u})},nt.update=function(e,t,r){if(!Me||r||e){var n,h,d,p,f,g,v,_=!0===Re?j:nt.scroll(),C=e?0:(_-l)/m,S=C<0?0:C>1?1:C||0,T=nt.progress;if(t&&(o=a,a=Me?qt():_,Fe&&(D=L,L=s&&!De?s.totalProgress():S)),ke&&fe&&!ge&&!je&&Ye&&(!S&&l<_+(_-o)/(qe()-pe)*ke?S=1e-4:1===S&&u>_+(_-o)/(qe()-pe)*ke&&(S=.9999)),S!==T&&nt.enabled){if(p=(f=(n=nt.isActive=!!S&&S<1)!==(!!T&&T<1))||!!S!=!!T,nt.direction=S>T?1:-1,nt.progress=S,p&&!ge&&(h=S&&!T?0:1===S?1:1===T?2:3,De&&(d=!f&&"none"!==We[h+1]&&We[h+1]||We[h],v=s&&("complete"===d||"reset"===d||d in s))),Te&&(f||v)&&(v||ue||!s)&&(ot(Te)?Te(nt):nt.getTrailing(Te).forEach(function(e){return e.endAnimation()})),De||(!B||ge||je?s&&s.totalProgress(S,!(!ge||!Vt&&!e)):(B._dp._time-B._start!==B._time&&B.render(B._dp._time-B._start),B.resetTo?B.resetTo("totalProgress",S,s._tTime/s._tDur):(B.vars.totalProgress=S,B.invalidate().restart()))),fe)if(e&&ve&&(k.style[ve+Le.os2]=F),Xe){if(p){if(g=!e&&S>T&&u+1>_&&_+1>=rt(Be,Le),Se)if(e||!n&&!g)bs(fe,k);else{var P=Mt(fe,!0),V=_-l;bs(fe,le,P.top+(Le===X?V:0)+Ft,P.left+(Le===X?0:V)+Ft)}fs(n||g?y:b),M&&S<1&&n||E(w+(1!==S||g?0:x))}}else E(Je(w+x*S));Fe&&!i.tween&&!ge&&!je&&N.restart(!0),ee&&(f||xe&&S&&(S<1||!Ve))&&de(ee.targets).forEach(function(e){return e.classList[n||xe?"add":"remove"](ee.className)}),Q&&!De&&!e&&Q(nt),p&&!ge?(De&&(v&&("complete"===d?s.pause().totalProgress(1):"reset"===d?s.restart(!0).pause():"restart"===d?s.restart(!0):s[d]()),Q&&Q(nt)),!f&&Ve||(se&&f&&dt(nt,se),Ke[h]&&dt(nt,Ke[h]),xe&&(1===S?nt.kill(!1,1):Ke[h]=0),f||Ke[h=1===S?1:3]&&dt(nt,Ke[h])),Ie&&!n&&Math.abs(nt.getVelocity())>(lt(Ie)?Ie:2500)&&(ht(nt.callbackAnimation),B?B.progress(1):ht(s,"reverse"===d?1:!S,1))):De&&Q&&!ge&&Q(nt)}if(I){var O=Me?_/Me.duration()*(Me._caScrollDist||0):_;A(O+(c._isFlipped?1:0)),I(O)}$&&$(-_/Me.duration()*(Me._caScrollDist||0))}},nt.enable=function(t,s){nt.enabled||(nt.enabled=!0,Bt(Be,"resize",Xt),$e||Bt(Be,"scroll",Ht),pt&&Bt(e,"refreshInit",pt),!1!==t&&(nt.progress=zt=0,a=o=Dt=qt()),!1!==s&&nt.refresh())},nt.getTween=function(e){return e&&i?i.tween:B},nt.setPositions=function(e,t,s,i){if(Me){var r=Me.scrollTrigger,n=Me.duration(),a=r.end-r.start;e=r.start+a*e/n,t=r.start+a*t/n}nt.refresh(!1,!1,{start:Ge(e,s&&!!nt._startClamp),end:Ge(t,s&&!!nt._endClamp)},i),nt.update()},nt.adjustPinSpacing=function(e){if(S&&e){var t=S.indexOf(Le.d)+1;S[t]=parseFloat(S[t])+e+Ft,S[1]=parseFloat(S[1])+e+Ft,fs(S)}},nt.disable=function(t,s){if(nt.enabled&&(!1!==t&&nt.revert(!0,!0),nt.enabled=nt.isActive=!1,s||B&&B.pause(),j=0,r&&(r.uncache=1),pt&&Pt(e,"refreshInit",pt),N&&(N.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!$e)){for(var n=$t.length;n--;)if($t[n].scroller===Be&&$t[n]!==nt)return;Pt(Be,"resize",Xt),$e||Pt(Be,"scroll",Ht)}},nt.kill=function(e,i){nt.disable(e,i),B&&!i&&B.kill(),te&&delete Yt[te];var n=$t.indexOf(nt);n>=0&&$t.splice(n,1),n===ye&&ls>0&&ye--,n=0,$t.forEach(function(e){return e.scroller===nt.scroller&&(n=1)}),n||Re||(nt.scroll.rec=0),s&&(s.scrollTrigger=null,e&&s.revert({kill:!1}),i||s.kill()),h&&[h,d,c,p].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),Ne===nt&&(Ne=0),fe&&(r&&(r.uncache=1),n=0,$t.forEach(function(e){return e.pin===fe&&n++}),n||(r.spacer=0)),t.onKill&&t.onKill(nt)},$t.push(nt),nt.enable(!1,!1),Y&&Y(nt),s&&s.add&&!m){var Wt=nt.update;nt.update=function(){nt.update=Wt,P.cache++,l||u||nt.refresh()},ie.delayedCall(.01,nt.update),m=.01,l=u=0}else nt.refresh();fe&&function(){if(ze!==is){var e=ze=is;requestAnimationFrame(function(){return e===is&&as(!0)})}}()}else this.update=this.refresh=this.kill=Ze},e.register=function(t){return re||(ie=t||et(),Qe()&&window.document&&e.enable(),re=Ue),re},e.defaults=function(e){if(e)for(var t in e)Rt[t]=e[t];return Rt},e.disable=function(e,t){Ue=0,$t.forEach(function(s){return s[t?"kill":"disable"](e)}),Pt(ne,"wheel",Ht),Pt(ae,"scroll",Ht),clearInterval(fe),Pt(ae,"touchcancel",Ze),Pt(le,"touchstart",Ze),Dt(Pt,ae,"pointerdown,touchstart,mousedown",Ke),Dt(Pt,ae,"pointerup,touchend,mouseup",We),he.kill(),nt(Pt);for(var s=0;s<P.length;s+=3)Vt(Pt,P[s],P[s+1]),Vt(Pt,P[s],P[s+2])},e.enable=function(){if(ne=window,ae=document,oe=ae.documentElement,le=ae.body,ie&&(de=ie.utils.toArray,ce=ie.utils.clamp,Ie=ie.core.context||Ze,Ee=ie.core.suppressOverwrites||Ze,Te=ne.history.scrollRestoration||"auto",os=ne.pageYOffset||0,ie.core.globals("ScrollTrigger",e),le)){Ue=1,(Le=document.createElement("div")).style.height="100vh",Le.style.position="absolute",rs(),Xe(),se.register(ie),e.isTouch=se.isTouch,Me=se.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Fe=1===se.isTouch,Bt(ne,"wheel",Ht),ue=[ne,ae,oe,le],ie.matchMedia?(e.matchMedia=function(e){var t,s=ie.matchMedia();for(t in e)s.add(t,e[t]);return s},ie.addEventListener("matchMediaInit",function(){return ts()}),ie.addEventListener("matchMediaRevert",function(){return es()}),ie.addEventListener("matchMedia",function(){as(0,1),Jt("matchMedia")}),ie.matchMedia().add("(orientation: portrait)",function(){return Gt(),Gt})):console.warn("Requires GSAP 3.11.0 or later"),Gt(),Bt(ae,"scroll",Ht);var t,s,i=le.hasAttribute("style"),r=le.style,n=r.borderTopStyle,a=ie.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=Mt(le),X.m=Math.round(t.top+X.sc())||0,G.m=Math.round(t.left+G.sc())||0,n?r.borderTopStyle=n:r.removeProperty("border-top-style"),i||(le.setAttribute("style",""),le.removeAttribute("style")),fe=setInterval(Ut,250),ie.delayedCall(.5,function(){return je=0}),Bt(ae,"touchcancel",Ze),Bt(le,"touchstart",Ze),Dt(Bt,ae,"pointerdown,touchstart,mousedown",Ke),Dt(Bt,ae,"pointerup,touchend,mouseup",We),ve=ie.utils.checkPrefix("transform"),ds.push(ve),re=qe(),he=ie.delayedCall(.2,as).pause(),_e=[ae,"visibilitychange",function(){var e=ne.innerWidth,t=ne.innerHeight;ae.hidden?(be=e,ke=t):be===e&&ke===t||Xt()},ae,"DOMContentLoaded",as,ne,"load",as,ne,"resize",Xt],nt(Bt),$t.forEach(function(e){return e.enable(0,1)}),s=0;s<P.length;s+=3)Vt(Pt,P[s],P[s+1]),Vt(Pt,P[s],P[s+2])}},e.config=function(t){"limitCallbacks"in t&&(Ve=!!t.limitCallbacks);var s=t.syncInterval;s&&clearInterval(fe)||(fe=s)&&setInterval(Ut,s),"ignoreMobileResize"in t&&(Fe=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(nt(Pt)||nt(Bt,t.autoRefreshEvents||"none"),we=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var s=K(e),i=P.indexOf(s),r=tt(s);~i&&P.splice(i,r?6:2),t&&(r?V.unshift(ne,t,le,t,oe,t):V.unshift(s,t))},e.clearMatchMedia=function(e){$t.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,s){var i=(at(e)?K(e):e).getBoundingClientRect(),r=i[s?mt:vt]*t||0;return s?i.right-r>0&&i.left+r<ne.innerWidth:i.bottom-r>0&&i.top+r<ne.innerHeight},e.positionInViewport=function(e,t,s){at(e)&&(e=K(e));var i=e.getBoundingClientRect(),r=i[s?mt:vt],n=null==t?r/2:t in zt?zt[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0;return s?(i.left+n)/ne.innerWidth:(i.top+n)/ne.innerHeight},e.killAll=function(e){if($t.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=Kt.killAll||[];Kt={},t.forEach(function(e){return e()})}},e}();Es.version="3.13.0",Es.saveStyles=function(e){return e?de(e).forEach(function(e){if(e&&e.style){var t=Qt.indexOf(e);t>=0&&Qt.splice(t,5),Qt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ie.core.getCache(e),Ie())}}):Qt},Es.revert=function(e,t){return ts(!e,t)},Es.create=function(e,t){return new Es(e,t)},Es.refresh=function(e){return e?Xt(!0):(re||Es.register())&&as(!0)},Es.update=function(e){return++P.cache&&us(!0===e?2:0)},Es.clearScrollMemory=ss,Es.maxScroll=function(e,t){return rt(e,t?G:X)},Es.getScrollFunc=function(e,t){return W(K(e),t?G:X)},Es.getById=function(e){return Yt[e]},Es.getAll=function(){return $t.filter(function(e){return"ScrollSmoother"!==e.vars.id})},Es.isScrolling=function(){return!!Ye},Es.snapDirectional=Lt,Es.addEventListener=function(e,t){var s=Kt[e]||(Kt[e]=[]);~s.indexOf(t)||s.push(t)},Es.removeEventListener=function(e,t){var s=Kt[e],i=s&&s.indexOf(t);i>=0&&s.splice(i,1)},Es.batch=function(e,t){var s,i=[],r={},n=t.interval||.016,a=t.batchMax||1e9,o=function(e,t){var s=[],i=[],r=ie.delayedCall(n,function(){t(s,i),s=[],i=[]}).pause();return function(e){s.length||r.restart(!0),s.push(e.trigger),i.push(e),a<=s.length&&r.progress(1)}};for(s in t)r[s]="on"===s.substr(0,2)&&ot(t[s])&&"onRefreshInit"!==s?o(0,t[s]):t[s];return ot(a)&&(a=a(),Bt(Es,"refresh",function(){return a=t.batchMax()})),de(e).forEach(function(e){var t={};for(s in r)t[s]=r[s];t.trigger=e,i.push(Es.create(t))}),i};var ws,xs=function(e,t,s,i){return t>i?e(i):t<0&&e(0),s>i?(i-t)/(s-t):s<0?t/(t-s):1},Fs=function e(t,s){!0===s?t.style.removeProperty("touch-action"):t.style.touchAction=!0===s?"auto":s?"pan-"+s+(se.isTouch?" pinch-zoom":""):"none",t===oe&&e(le,s)},Ss={auto:1,scroll:1},As=function(e){var t,s=e.event,i=e.target,r=e.axis,n=(s.changedTouches?s.changedTouches[0]:s).target,a=n._gsap||ie.core.getCache(n),o=qe();if(!a._isScrollT||o-a._isScrollT>2e3){for(;n&&n!==le&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!Ss[(t=St(n)).overflowY]&&!Ss[t.overflowX]);)n=n.parentNode;a._isScroll=n&&n!==i&&!tt(n)&&(Ss[(t=St(n)).overflowY]||Ss[t.overflowX]),a._isScrollT=o}(a._isScroll||"x"===r)&&(s.stopPropagation(),s._gsapAllow=!0)},Ms=function(e,t,s,i){return se.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&As,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return s&&Bt(ae,se.eventTypes[0],Ts,!1,!0)},onDisable:function(){return Pt(ae,se.eventTypes[0],Ts,!0)}})},Is=/(input|label|select|textarea)/i,Ts=function(e){var t=Is.test(e.target.tagName);(t||ws)&&(e._gsapAllow=!0,ws=t)},Ls=function(e){ut(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,s,i,r,n,a,o,l,u=e,h=u.normalizeScrollX,d=u.momentum,c=u.allowNestedScroll,p=u.onRelease,f=K(e.target)||oe,g=ie.core.globals().ScrollSmoother,m=g&&g.get(),v=Me&&(e.content&&K(e.content)||m&&!1!==e.content&&!m.smooth()&&m.content()),y=W(f,X),b=W(f,G),k=1,_=(se.isTouch&&ne.visualViewport?ne.visualViewport.scale*ne.visualViewport.width:ne.outerWidth)/ne.innerWidth,C=0,E=ot(d)?function(){return d(t)}:function(){return d||2.8},w=Ms(f,e.type,!0,c),x=function(){return r=!1},F=Ze,S=Ze,A=function(){s=rt(f,X),S=ce(Me?1:0,s),h&&(F=ce(0,rt(f,G))),i=is},M=function(){v._gsap.y=Je(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},I=function(){A(),n.isActive()&&n.vars.scrollY>s&&(y()>s?n.progress(1)&&y(s):n.resetTo("scrollY",s))};return v&&ie.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return Me&&"touchmove"===e.type&&function(){if(r){requestAnimationFrame(x);var e=Je(t.deltaY/2),s=S(y.v-e);if(v&&s!==y.v+y.offset){y.offset=s-y.v;var i=Je((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+i+", 0, 1)",v._gsap.y=i+"px",y.cacheID=P.cache,us()}return!0}y.offset&&M(),r=!0}()||k>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){r=!1;var e=k;k=Je((ne.visualViewport&&ne.visualViewport.scale||1)/_),n.pause(),e!==k&&Fs(f,k>1.01||!h&&"x"),a=b(),o=y(),A(),i=is},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&M(),t){P.cache++;var i,r,a=E();h&&(r=(i=b())+.05*a*-e.velocityX/.227,a*=xs(b,i,r,rt(f,G)),n.vars.scrollX=F(r)),r=(i=y())+.05*a*-e.velocityY/.227,a*=xs(y,i,r,rt(f,X)),n.vars.scrollY=S(r),n.invalidate().duration(a).play(.01),(Me&&n.vars.scrollY>=s||i>=s-1)&&ie.to({},{onUpdate:I,duration:a})}else l.restart(!0);p&&p(e)},e.onWheel=function(){n._ts&&n.pause(),qe()-C>1e3&&(i=0,C=qe())},e.onChange=function(e,t,s,r,n){if(is!==i&&A(),t&&h&&b(F(r[2]===t?a+(e.startX-e.x):b()+t-r[1])),s){y.offset&&M();var l=n[2]===s,u=l?o+e.startY-e.y:y()+s-n[1],d=S(u);l&&u!==d&&(o+=d-u),y(d)}(s||t)&&us()},e.onEnable=function(){Fs(f,!h&&"x"),Es.addEventListener("refresh",I),Bt(ne,"resize",I),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),w.enable()},e.onDisable=function(){Fs(f,!0),Pt(ne,"resize",I),Es.removeEventListener("refresh",I),w.kill()},e.lockAxis=!1!==e.lockAxis,(t=new se(e)).iOS=Me,Me&&!y()&&y(1),Me&&ie.ticker.add(Ze),l=t._dc,n=ie.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ks(y,y(),function(){return n.pause()})},onUpdate:us,onComplete:l.vars.onComplete}),t};function Ds(s,i,r,n){return s.params.createElements&&Object.keys(n).forEach(a=>{if(!r[a]&&!0===r.auto){let o=e(s.el,`.${n[a]}`)[0];o||(o=t("div",n[a]),o.className=n[a],s.el.append(o)),r[a]=o,i[a]=o}}),r}Es.sort=function(e){if(ot(e))return $t.sort(e);var t=ne.pageYOffset||0;return Es.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+ne.innerHeight}),$t.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},Es.observe=function(e){return new se(e)},Es.normalizeScroll=function(e){if(void 0===e)return xe;if(!0===e&&xe)return xe.enable();if(!1===e)return xe&&xe.kill(),void(xe=e);var t=e instanceof se?e:Ls(e);return xe&&xe.target===t.target&&xe.kill(),tt(t.target)&&(xe=t),t},Es.core={_getVelocityProp:Z,_inputObserver:Ms,_scrollers:P,_proxies:V,bridge:{ss:function(){Ye||Jt("scrollStart"),Ye=qe()},ref:function(){return ge}}},et()&&ie.registerPlugin(Es);function Bs(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Ps({swiper:e,extendParams:t,on:o,emit:l}){const u="swiper-pagination";let h;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${u}-bullet`,bulletActiveClass:`${u}-bullet-active`,modifierClass:`${u}-`,currentClass:`${u}-current`,totalClass:`${u}-total`,hiddenClass:`${u}-hidden`,progressbarFillClass:`${u}-progressbar-fill`,progressbarOppositeClass:`${u}-progressbar-opposite`,clickableClass:`${u}-clickable`,lockClass:`${u}-lock`,horizontalClass:`${u}-horizontal`,verticalClass:`${u}-vertical`,paginationDisabledClass:`${u}-disabled`}}),e.pagination={el:null,bullets:[]};let d=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function p(t,s){const{bulletActiveClass:i}=e.params.pagination;t&&(t=t[("prev"===s?"previous":"next")+"ElementSibling"])&&(t.classList.add(`${i}-${s}`),(t=t[("prev"===s?"previous":"next")+"ElementSibling"])&&t.classList.add(`${i}-${s}-${s}`))}function f(t){const s=t.target.closest(Bs(e.params.pagination.bulletClass));if(!s)return;t.preventDefault();const i=a(s)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===i)return;const t=(r=e.realIndex,n=i,o=e.slides.length,(n%=o)===1+(r%=o)?"next":n===r-1?"previous":void 0);"next"===t?e.slideNext():"previous"===t?e.slidePrev():e.slideToLoop(i)}else e.slideTo(i);var r,n,o}function g(){const t=e.rtl,r=e.params.pagination;if(c())return;let o,u,f=e.pagination.el;f=s(f);const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,m=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(u=e.previousRealIndex||0,o=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(o=e.snapIndex,u=e.previousSnapIndex):(u=e.previousIndex||0,o=e.activeIndex||0),"bullets"===r.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const s=e.pagination.bullets;let i,l,c;if(r.dynamicBullets&&(h=n(s[0],e.isHorizontal()?"width":"height"),f.forEach(t=>{t.style[e.isHorizontal()?"width":"height"]=h*(r.dynamicMainBullets+4)+"px"}),r.dynamicMainBullets>1&&void 0!==u&&(d+=o-(u||0),d>r.dynamicMainBullets-1?d=r.dynamicMainBullets-1:d<0&&(d=0)),i=Math.max(o-d,0),l=i+(Math.min(s.length,r.dynamicMainBullets)-1),c=(l+i)/2),s.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${r.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),f.length>1)s.forEach(t=>{const s=a(t);s===o?t.classList.add(...r.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),r.dynamicBullets&&(s>=i&&s<=l&&t.classList.add(...`${r.bulletActiveClass}-main`.split(" ")),s===i&&p(t,"prev"),s===l&&p(t,"next"))});else{const t=s[o];if(t&&t.classList.add(...r.bulletActiveClass.split(" ")),e.isElement&&s.forEach((e,t)=>{e.setAttribute("part",t===o?"bullet-active":"bullet")}),r.dynamicBullets){const e=s[i],t=s[l];for(let n=i;n<=l;n+=1)s[n]&&s[n].classList.add(...`${r.bulletActiveClass}-main`.split(" "));p(e,"prev"),p(t,"next")}}if(r.dynamicBullets){const i=Math.min(s.length,r.dynamicMainBullets+4),n=(h*i-h)/2-c*h,a=t?"right":"left";s.forEach(t=>{t.style[e.isHorizontal()?a:"top"]=`${n}px`})}}f.forEach((t,s)=>{if("fraction"===r.type&&(t.querySelectorAll(Bs(r.currentClass)).forEach(e=>{e.textContent=r.formatFractionCurrent(o+1)}),t.querySelectorAll(Bs(r.totalClass)).forEach(e=>{e.textContent=r.formatFractionTotal(m)})),"progressbar"===r.type){let s;s=r.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const i=(o+1)/m;let n=1,a=1;"horizontal"===s?n=i:a=i,t.querySelectorAll(Bs(r.progressbarFillClass)).forEach(t=>{t.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${a})`,t.style.transitionDuration=`${e.params.speed}ms`})}"custom"===r.type&&r.renderCustom?(i(t,r.renderCustom(e,o+1,m)),0===s&&l("paginationRender",t)):(0===s&&l("paginationRender",t),l("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](r.lockClass)})}function m(){const t=e.params.pagination;if(c())return;const r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let n=e.pagination.el;n=s(n);let a="";if("bullets"===t.type){let s=e.params.loop?Math.ceil(r/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&s>r&&(s=r);for(let i=0;i<s;i+=1)t.renderBullet?a+=t.renderBullet.call(e,i,t.bulletClass):a+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(a=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(a=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],n.forEach(s=>{"custom"!==t.type&&i(s,a||""),"bullets"===t.type&&e.pagination.bullets.push(...s.querySelectorAll(Bs(t.bulletClass)))}),"custom"!==t.type&&l("paginationRender",n[0])}function v(){e.params.pagination=Ds(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let i;"string"==typeof t.el&&e.isElement&&(i=e.el.querySelector(t.el)),i||"string"!=typeof t.el||(i=[...document.querySelectorAll(t.el)]),i||(i=t.el),i&&0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&Array.isArray(i)&&i.length>1&&(i=[...e.el.querySelectorAll(t.el)],i.length>1&&(i=i.find(t=>r(t,".swiper")[0]===e.el))),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(e.pagination,{el:i}),i=s(i),i.forEach(s=>{"bullets"===t.type&&t.clickable&&s.classList.add(...(t.clickableClass||"").split(" ")),s.classList.add(t.modifierClass+t.type),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(s.classList.add(`${t.modifierClass}${t.type}-dynamic`),d=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&s.classList.add(t.progressbarOppositeClass),t.clickable&&s.addEventListener("click",f),e.enabled||s.classList.add(t.lockClass)}))}function y(){const t=e.params.pagination;if(c())return;let i=e.pagination.el;i&&(i=s(i),i.forEach(s=>{s.classList.remove(t.hiddenClass),s.classList.remove(t.modifierClass+t.type),s.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(s.classList.remove(...(t.clickableClass||"").split(" ")),s.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(e=>e.classList.remove(...t.bulletActiveClass.split(" ")))}o("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:i}=e.pagination;i=s(i),i.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),o("init",()=>{!1===e.params.pagination.enabled?b():(v(),m(),g())}),o("activeIndexChange",()=>{void 0===e.snapIndex&&g()}),o("snapIndexChange",()=>{g()}),o("snapGridLengthChange",()=>{m(),g()}),o("destroy",()=>{y()}),o("enable disable",()=>{let{el:t}=e.pagination;t&&(t=s(t),t.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),o("lock unlock",()=>{g()}),o("click",(t,i)=>{const r=i.target,n=s(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&n&&n.length>0&&!r.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&r===e.navigation.nextEl||e.navigation.prevEl&&r===e.navigation.prevEl))return;const t=n[0].classList.contains(e.params.pagination.hiddenClass);l(!0===t?"paginationShow":"paginationHide"),n.forEach(t=>t.classList.toggle(e.params.pagination.hiddenClass))}});const b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=s(t),t.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=s(t),t.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),v(),m(),g()},disable:b,render:m,update:g,init:v,destroy:y})}function Vs({swiper:e,extendParams:t,on:s,emit:i,params:r}){let n,a;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,u,h,d,c,p,f,g,m=r&&r.autoplay?r.autoplay.delay:3e3,v=r&&r.autoplay?r.autoplay.delay:3e3,y=(new Date).getTime();function b(t){e&&!e.destroyed&&e.wrapperEl&&t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),g||t.detail&&t.detail.bySwiperTouchMove||x())}const k=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?u=!0:u&&(v=l,u=!1);const t=e.autoplay.paused?l:y+v-(new Date).getTime();e.autoplay.timeLeft=t,i("autoplayTimeLeft",t,t/m),a=requestAnimationFrame(()=>{k()})},_=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),k();let s=void 0===t?e.params.autoplay.delay:t;m=e.params.autoplay.delay,v=e.params.autoplay.delay;const r=(()=>{let t;if(t=e.virtual&&e.params.virtual.enabled?e.slides.find(e=>e.classList.contains("swiper-slide-active")):e.slides[e.activeIndex],!t)return;return parseInt(t.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(r)&&r>0&&void 0===t&&(s=r,m=r,v=r),l=s;const o=e.params.speed,u=()=>{e&&!e.destroyed&&(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(o,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,o,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(o,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,o,!0,!0),i("autoplay")),e.params.cssMode&&(y=(new Date).getTime(),requestAnimationFrame(()=>{_()})))};return s>0?(clearTimeout(n),n=setTimeout(()=>{u()},s)):requestAnimationFrame(()=>{u()}),s},C=()=>{y=(new Date).getTime(),e.autoplay.running=!0,_(),i("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(n),cancelAnimationFrame(a),i("autoplayStop")},w=(t,s)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(n),t||(f=!0);const r=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):x()};if(e.autoplay.paused=!0,s)return p&&(l=e.params.autoplay.delay),p=!1,void r();const a=l||e.params.autoplay.delay;l=a-((new Date).getTime()-y),e.isEnd&&l<0&&!e.params.loop||(l<0&&(l=0),r())},x=()=>{e.isEnd&&l<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(y=(new Date).getTime(),f?(f=!1,_(l)):_(),e.autoplay.paused=!1,i("autoplayResume"))},F=()=>{if(e.destroyed||!e.autoplay.running)return;const t=o();"hidden"===t.visibilityState&&(f=!0,w(!0)),"visible"===t.visibilityState&&x()},S=t=>{"mouse"===t.pointerType&&(f=!0,g=!0,e.animating||e.autoplay.paused||w(!0))},A=t=>{"mouse"===t.pointerType&&(g=!1,e.autoplay.paused&&x())};s("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",S),e.el.addEventListener("pointerleave",A)),o().addEventListener("visibilitychange",F),C())}),s("destroy",()=>{e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("pointerenter",S),e.el.removeEventListener("pointerleave",A)),o().removeEventListener("visibilitychange",F),e.autoplay.running&&E()}),s("_freeModeStaticRelease",()=>{(d||f)&&x()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():w(!0,!0)}),s("beforeTransitionStart",(t,s,i)=>{!e.destroyed&&e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?w(!0,!0):E())}),s("sliderFirstMove",()=>{!e.destroyed&&e.autoplay.running&&(e.params.autoplay.disableOnInteraction?E():(h=!0,d=!1,f=!1,c=setTimeout(()=>{f=!0,d=!0,w(!0)},200)))}),s("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&h){if(clearTimeout(c),clearTimeout(n),e.params.autoplay.disableOnInteraction)return d=!1,void(h=!1);d&&e.params.cssMode&&x(),d=!1,h=!1}}),s("slideChange",()=>{!e.destroyed&&e.autoplay.running&&(p=!0)}),Object.assign(e.autoplay,{start:C,stop:E,pause:w,resume:x})}function Os(e,t){const s=l(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}
/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */
function Rs(e,t,s){const i=document.createElement(t);return e&&(i.className=e),s&&s.appendChild(i),i}function zs(e,t,s){e.style.width="number"==typeof t?`${t}px`:t,e.style.height="number"==typeof s?`${s}px`:s}const Ns="idle",js="loading",qs="loaded",$s="error";function Ys(e,t,s=document){let i=[];if(e instanceof Element)i=[e];else if(e instanceof NodeList||Array.isArray(e))i=Array.from(e);else{const r="string"==typeof e?e:t;r&&(i=Array.from(s.querySelectorAll(r)))}return i}function Us(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class Hs{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Gs{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,s=100){var i,r,n;this._filters[e]||(this._filters[e]=[]),null===(i=this._filters[e])||void 0===i||i.push({fn:t,priority:s}),null===(r=this._filters[e])||void 0===r||r.sort((e,t)=>e.priority-t.priority),null===(n=this.pswp)||void 0===n||n.addFilter(e,t,s)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(e=>e.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var s;return null===(s=this._filters[e])||void 0===s||s.forEach(e=>{t[0]=e.fn.apply(this,t)}),t[0]}on(e,t){var s,i;this._listeners[e]||(this._listeners[e]=[]),null===(s=this._listeners[e])||void 0===s||s.push(t),null===(i=this.pswp)||void 0===i||i.on(e,t)}off(e,t){var s;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(e=>t!==e)),null===(s=this.pswp)||void 0===s||s.off(e,t)}dispatch(e,t){var s;if(this.pswp)return this.pswp.dispatch(e,t);const i=new Hs(e,t);return null===(s=this._listeners[e])||void 0===s||s.forEach(e=>{e.call(this,i)}),i}}class Xs{constructor(e,t){if(this.element=Rs("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const t=this.element;t.decoding="async",t.alt="",t.src=e,t.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&("IMG"===this.element.tagName?(zs(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(e,t,s){let i=`translate3d(${e}px,0px,0)`;return void 0!==s&&(i+=` scale3d(${s},${s},1)`),i}(0,0,e/250)):zs(this.element,e,t))}destroy(){var e;null!==(e=this.element)&&void 0!==e&&e.parentNode&&this.element.remove(),this.element=null}}class Ks{constructor(e,t,s){this.instance=t,this.data=e,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Ns,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const e=this.placeholder.element;e&&!e.parentElement&&this.slide.container.prepend(e)}else{const e=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Xs(e,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=Rs("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=Rs("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const i=this.element;this.updateSrcsetSizes(),this.data.srcset&&(i.srcset=this.data.srcset),i.src=null!==(t=this.data.src)&&void 0!==t?t:"",i.alt=null!==(s=this.data.alt)&&void 0!==s?s:"",this.state=js,i.complete?this.onLoaded():(i.onload=()=>{this.onLoaded()},i.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=qs,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==qs&&this.state!==$s||this.removePlaceholder())}onError(){this.state=$s,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===js,this)}isError(){return this.state===$s}isImageContent(){return"image"===this.type}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(zs(this.element,e,t),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==$s,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let s=Rs("pswp__error-msg","div");s.innerText=null!==(e=null===(t=this.instance.options)||void 0===t?void 0:t.errorMsg)&&void 0!==e?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=Rs("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===$s)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||Us())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!Us()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==qs&&this.state!==$s||this.removePlaceholder()))}}function Ws(e,t,s,i,r){let n=0;if(t.paddingFn)n=t.paddingFn(s,i,r)[e];else if(t.padding)n=t.padding[e];else{const s="padding"+e[0].toUpperCase()+e.slice(1);t[s]&&(n=t[s])}return Number(n)||0}class Zs{constructor(e,t,s,i){this.pswp=i,this.options=e,this.itemData=t,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,s){const i={x:e,y:t};this.elementSize=i,this.panAreaSize=s;const r=s.x/i.x,n=s.y/i.y;this.fit=Math.min(1,r<n?r:n),this.fill=Math.min(1,r>n?r:n),this.vFill=Math.min(1,n),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",s=this.options[t];if(s)return"function"==typeof s?s(this):"fill"===s?this.fill:"fit"===s?this.fit:Number(s)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,3*this.fit),this.elementSize&&e*this.elementSize.x>4e3&&(e=4e3/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}function Js(e,t,s){const i=t.createContentFromData(e,s);let r;const{options:n}=t;if(n){let a;r=new Zs(n,e,-1),a=t.pswp?t.pswp.viewportSize:function(e,t){if(e.getViewportSizeFn){const s=e.getViewportSizeFn(e,t);if(s)return s}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(n,t);const o=function(e,t,s,i){return{x:t.x-Ws("left",e,t,s,i)-Ws("right",e,t,s,i),y:t.y-Ws("top",e,t,s,i)-Ws("bottom",e,t,s,i)}}(n,a,e,s);r.update(i.width,i.height,o)}return i.lazyLoad(),r&&i.setDisplayedSize(Math.ceil(i.width*r.initial),Math.ceil(i.height*r.initial)),i}class Qs extends Gs{getNumItems(){var e;let t=0;const s=null===(e=this.options)||void 0===e?void 0:e.dataSource;s&&"length"in s?t=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(t=s.items.length));const i=this.dispatch("numItems",{dataSource:s,numItems:t});return this.applyFilters("numItems",i.numItems,s)}createContentFromData(e,t){return new Ks(e,this,t)}getItemData(e){var t;const s=null===(t=this.options)||void 0===t?void 0:t.dataSource;let i={};Array.isArray(s)?i=s[e]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),i=s.items[e]);let r=i;r instanceof Element&&(r=this._domElementToItemData(r));const n=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",n.itemData,e)}_getGalleryDOMElements(e){var t,s;return null!==(t=this.options)&&void 0!==t&&t.children||null!==(s=this.options)&&void 0!==s&&s.childSelector?Ys(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},s="A"===e.tagName?e:e.querySelector("a");if(s){t.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(t.srcset=s.dataset.pswpSrcset),t.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,t.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,s.dataset.pswpType&&(t.type=s.dataset.pswpType);const r=e.querySelector("img");var i;if(r)t.msrc=r.currentSrc||r.src,t.alt=null!==(i=r.getAttribute("alt"))&&void 0!==i?i:"";(s.dataset.pswpCropped||s.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,s)}lazyLoadData(e,t){return Js(e,this,t)}}var ei=Object.defineProperty,ti=(e,t,s)=>(((e,t,s)=>{t in e?ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const si=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ii=/^-?[0-9]\d*$/,ri=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,ni=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,ai=e=>"string"!=typeof e||""===e;var oi=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.Integer="integer",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))(oi||{}),li=(e=>(e.Required="required",e))(li||{}),ui=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))(ui||{});const hi=[{key:oi.Required,dict:{en:"The field is required"}},{key:oi.Email,dict:{en:"Email has invalid format"}},{key:oi.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:oi.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:oi.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:oi.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:oi.Number,dict:{en:"Value should be a number"}},{key:oi.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:oi.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:oi.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:oi.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:oi.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],di=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then,ci=e=>Array.isArray(e)?e.filter(e=>e.length>0):"string"==typeof e&&e.trim()?[...e.split(" ").filter(e=>e.length>0)]:[],pi=e=>e instanceof Element||e instanceof HTMLDocument,fi={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1,submitFormAutomatically:!1};class gi{constructor(e,t,s){ti(this,"form",null),ti(this,"fields",{}),ti(this,"groupFields",{}),ti(this,"errors",{}),ti(this,"isValid",!1),ti(this,"isSubmitted",!1),ti(this,"globalConfig",fi),ti(this,"errorLabels",{}),ti(this,"successLabels",{}),ti(this,"eventListeners",[]),ti(this,"dictLocale",hi),ti(this,"currentLocale","en"),ti(this,"customStyleTags",{}),ti(this,"onSuccessCallback"),ti(this,"onFailCallback"),ti(this,"onValidateCallback"),ti(this,"tooltips",[]),ti(this,"lastScrollPosition"),ti(this,"isScrollTick"),ti(this,"fieldIds",new Map),ti(this,"getKeyByFieldSelector",e=>this.fieldIds.get(e)),ti(this,"getFieldSelectorByKey",e=>{for(const[t,s]of this.fieldIds)if(e===s)return t}),ti(this,"getCompatibleFields",()=>{const e={};return Object.keys(this.fields).forEach(t=>{let s=t;const i=this.getFieldSelectorByKey(t);"string"==typeof i&&(s=i),e[s]={...this.fields[t]}}),e}),ti(this,"setKeyByFieldSelector",e=>{if(this.fieldIds.has(e))return this.fieldIds.get(e);const t=String(this.fieldIds.size+1);return this.fieldIds.set(e,t),t}),ti(this,"refreshAllTooltips",()=>{this.tooltips.forEach(e=>{e.refresh()})}),ti(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),ti(this,"formSubmitHandler",e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)}),ti(this,"handleFieldChange",e=>{let t;for(const s in this.fields){if(this.fields[s].elem===e){t=s;break}}t&&(this.fields[t].touched=!0,this.validateField(t,!0))}),ti(this,"handleGroupChange",e=>{let t;for(const s in this.groupFields){if(this.groupFields[s].elems.find(t=>t===e)){t=s;break}}t&&(this.groupFields[t].touched=!0,this.validateGroup(t,!0))}),ti(this,"handlerChange",e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())}),this.initialize(e,t,s)}initialize(e,t,s){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=fi,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en","string"==typeof e){const t=document.querySelector(e);if(!t)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(t)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig={...fi,...t},s&&(this.dictLocale=[...s,...hi]),this.isTooltip()){const e=document.createElement("style");e.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[ui.Label]=document.head.appendChild(e),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e,t,s){var i;const r=null!=s?s:e;let n=null==(i=this.dictLocale.find(e=>e.key===r))?void 0:i.dict[this.currentLocale];if(n||s&&(n=s),n&&void 0!==t)switch(e){case oi.MaxLength:case oi.MinLength:case oi.MaxNumber:case oi.MinNumber:case oi.MinFilesCount:case oi.MaxFilesCount:n=n.replace(":value",String(t))}return n||s||"Value is incorrect"}getFieldErrorMessage(e,t){const s="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,s)}getFieldSuccessMessage(e,t){const s="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,s)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,s){if(s.rule===li.Required)t.every(e=>!e.checked)?this.setGroupInvalid(e,s):this.setGroupValid(e,s)}validateFieldRule(e,t,s,i=!1){const r=s.value,n=this.getElemValue(t);if(s.plugin){return void(s.plugin(n,this.getCompatibleFields())||this.setFieldInvalid(e,s))}switch(s.rule){case oi.Required:(e=>{let t=e;return"string"==typeof e&&(t=e.trim()),!t})(n)&&this.setFieldInvalid(e,s);break;case oi.Email:if(ai(n))break;a=n,si.test(a)||this.setFieldInvalid(e,s);break;case oi.MaxLength:if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(ai(n))break;((e,t)=>e.length>t)(n,r)&&this.setFieldInvalid(e,s);break;case oi.MinLength:if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(ai(n))break;((e,t)=>e.length<t)(n,r)&&this.setFieldInvalid(e,s);break;case oi.Password:if(ai(n))break;(e=>ri.test(e))(n)||this.setFieldInvalid(e,s);break;case oi.StrongPassword:if(ai(n))break;(e=>ni.test(e))(n)||this.setFieldInvalid(e,s);break;case oi.Number:if(ai(n))break;(e=>"string"==typeof e&&!isNaN(+e)&&!isNaN(parseFloat(e)))(n)||this.setFieldInvalid(e,s);break;case oi.Integer:if(ai(n))break;(e=>ii.test(e))(n)||this.setFieldInvalid(e,s);break;case oi.MaxNumber:{if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(ai(n))break;const t=+n;(Number.isNaN(t)||((e,t)=>e>t)(t,r))&&this.setFieldInvalid(e,s);break}case oi.MinNumber:{if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(ai(n))break;const t=+n;(Number.isNaN(t)||((e,t)=>e<t)(t,r))&&this.setFieldInvalid(e,s);break}case oi.CustomRegexp:{if(void 0===r)return console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,s);let t;try{t=new RegExp(r)}catch(o){console.error(`Value for ${s.rule} rule for [${e}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(e,s);break}const i=String(n);""===i||t.test(i)||this.setFieldInvalid(e,s);break}case oi.MinFilesCount:if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(Number.isFinite(null==n?void 0:n.length)&&n.length<r){this.setFieldInvalid(e,s);break}break;case oi.MaxFilesCount:if(void 0===r){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof r){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(Number.isFinite(null==n?void 0:n.length)&&n.length>r){this.setFieldInvalid(e,s);break}break;case oi.Files:{if(void 0===r)return console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,s);if("object"!=typeof r)return console.error(`Value for ${s.rule} rule for [${e}] field should be an object. This field will be always invalid.`),void this.setFieldInvalid(e,s);const t=r.files;if("object"!=typeof t)return console.error(`Value for ${s.rule} rule for [${e}] field should be an object with files array. This field will be always invalid.`),void this.setFieldInvalid(e,s);const i=(e,t)=>{const s=Number.isFinite(t.minSize)&&e.size<t.minSize,i=Number.isFinite(t.maxSize)&&e.size>t.maxSize,r=Array.isArray(t.names)&&!t.names.includes(e.name),n=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),a=Array.isArray(t.types)&&!t.types.includes(e.type);return s||i||r||n||a};if("object"==typeof n&&null!==n)for(let r=0,a=n.length;r<a;++r){const a=n.item(r);if(!a){this.setFieldInvalid(e,s);break}if(i(a,t)){this.setFieldInvalid(e,s);break}}break}default:{if("function"!=typeof s.validator)return console.error(`Validator for custom rule for [${e}] field should be a function. This field will be always invalid.`),void this.setFieldInvalid(e,s);const t=s.validator(n,this.getCompatibleFields());if("boolean"!=typeof t&&"function"!=typeof t&&console.error(`Validator return value for [${e}] field should be boolean or function. It will be cast to boolean.`),"function"==typeof t){if(!i){this.fields[e].asyncCheckPending=!1;const i=t();return di(i)?i.then(t=>{t||this.setFieldInvalid(e,s)}).catch(()=>{this.setFieldInvalid(e,s)}):(console.error(`Validator function for custom rule for [${e}] field should return a Promise. This field will be always invalid.`),void this.setFieldInvalid(e,s))}this.fields[e].asyncCheckPending=!0}t||this.setFieldInvalid(e,s)}}var a}isFormValid(){let e=!0;for(let t=0,s=Object.values(this.fields).length;t<s;++t){const s=Object.values(this.fields)[t];if(void 0===s.isValid){e=void 0;break}if(!1===s.isValid){e=!1;break}}for(let t=0,s=Object.values(this.groupFields).length;t<s;++t){const s=Object.values(this.groupFields)[t];if(void 0===s.isValid){e=void 0;break}if(!1===s.isValid){e=!1;break}}return e}validateField(e,t=!1){var s;const i=this.fields[e];i.isValid=!0;const r=[];return[...i.rules].reverse().forEach(s=>{const n=this.validateFieldRule(e,i.elem,s,t);di(n)&&r.push(n)}),i.isValid&&this.setFieldValid(e,null==(s=i.config)?void 0:s.successMessage),Promise.allSettled(r).finally(()=>{var e;t&&(null==(e=this.onValidateCallback)||e.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}revalidateField(e){if("string"!=typeof e&&!pi(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.fields[t]?new Promise(e=>{this.validateField(t,!0).finally(()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t,!0),e(!!this.fields[t].isValid)})}):(console.error("Field not found. Check the field selector."),Promise.reject())}revalidateGroup(e){if("string"!=typeof e&&!pi(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?new Promise(e=>{this.validateGroup(t).finally(()=>{this.clearFieldLabel(t),this.renderGroupError(t,!0),e(!!this.groupFields[t].isValid)})}):(console.error("Group not found. Check the group selector."),Promise.reject())}validateGroup(e,t=!1){const s=this.groupFields[e],i=[];return[...s.rules].reverse().forEach(t=>{const r=this.validateGroupRule(e,s.elems,t);di(r)&&i.push(r)}),Promise.allSettled(i).finally(()=>{var e;t&&(null==(e=this.onValidateCallback)||e.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout(()=>t.elem.focus(),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(e=!1){return new Promise(t=>{const s=[];Object.keys(this.fields).forEach(e=>{const t=this.validateField(e);di(t)&&s.push(t)}),Object.keys(this.groupFields).forEach(e=>{const t=this.validateGroup(e);di(t)&&s.push(t)}),Promise.allSettled(s).then(()=>{var i;this.afterSubmitValidation(e),null==(i=this.onValidateCallback)||i.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}),t(!!s.length)})})}revalidate(){return new Promise(e=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)})})}validateHandler(e,t=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally(()=>{var t,s,i;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?(null==(t=this.onSuccessCallback)||t.call(this,e),this.globalConfig.submitFormAutomatically&&(null==(s=null==e?void 0:e.currentTarget)||s.submit())):null==(i=this.onFailCallback)||i.call(this,this.getCompatibleFields(),this.groupFields)})}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,s){t.addEventListener(e,s),this.eventListeners.push({type:e,elem:t,func:s})}removeListener(e,t,s){t.removeEventListener(e,s),this.eventListeners=this.eventListeners.filter(s=>s.type!==e||s.elem!==t)}addField(e,t,s){if("string"!=typeof e&&!pi(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let i;if(i="string"==typeof e?this.form.querySelector(e):e,!i)throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach(e=>{if(!("rule"in e||"validator"in e||"plugin"in e))throw Error("Rules argument must contain at least one rule or validator property.");if(!(e.validator||e.plugin||e.rule&&Object.values(oi).includes(e.rule)))throw Error(`Rule should be one of these types: ${Object.values(oi).join(", ")}. Provided value: ${e.rule}`)});const r=this.setKeyByFieldSelector(e);return this.fields[r]={elem:i,rules:t,isValid:void 0,touched:!1,config:s},this.setListeners(i),(this.isSubmitted||this.globalConfig.validateBeforeSubmitting)&&this.validateField(r),this}removeField(e){if("string"!=typeof e&&!pi(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);if(!t||!this.fields[t])return console.error("Field not found. Check the field selector."),this;const s=this.getListenerType(this.fields[t].elem.type);return this.removeListener(s,this.fields[t].elem,this.handlerChange),this.clearErrors(),delete this.fields[t],this}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");const t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?(this.groupFields[t].elems.forEach(e=>{const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)}),this.clearErrors(),delete this.groupFields[t],this):(console.error("Group not found. Check the group selector."),this)}addRequiredGroup(e,t,s,i){if("string"!=typeof e&&!pi(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");let r;if(r="string"==typeof e?this.form.querySelector(e):e,!r)throw Error("Group selector not found! Please check the group selector.");const n=r.querySelectorAll("input"),a=Array.from(n).filter(e=>{const t=((e,t)=>{const s=[...t].reverse();for(let i=0,r=s.length;i<r;++i){const t=s[i];for(const s in e){const i=e[s];if(i.groupElem===t)return[s,i]}}return null})(this.groupFields,(e=>{let t=e;const s=[];for(;t;)s.unshift(t),t=t.parentNode;return s})(e));return!t||t[1].elems.find(t=>t!==e)}),o=this.setKeyByFieldSelector(e);return this.groupFields[o]={rules:[{rule:li.Required,errorMessage:t,successMessage:i}],groupElem:r,elems:a,touched:!1,isValid:void 0,config:s},n.forEach(e=>{this.setListeners(e)}),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,s;null==(t=this.errorLabels[e])||t.remove(),null==(s=this.successLabels[e])||s.remove()}clearFieldStyle(e){var t,s,i,r;const n=this.fields[e],a=(null==(t=n.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(a).forEach(e=>{n.elem.style[e]=""});const o=(null==(s=n.config)?void 0:s.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(o).forEach(e=>{n.elem.style[e]=""}),n.elem.classList.remove(...ci((null==(i=n.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...ci((null==(r=n.config)?void 0:r.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;Object.keys(this.errorLabels).forEach(e=>this.errorLabels[e].remove()),Object.keys(this.successLabels).forEach(e=>this.successLabels[e].remove());for(const s in this.fields)this.clearFieldStyle(s);for(const s in this.groupFields){const i=this.groupFields[s],r=(null==(e=i.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(r).forEach(e=>{i.elems.forEach(t=>{var s;t.style[e]="",t.classList.remove(...ci((null==(s=i.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})});const n=(null==(t=i.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(n).forEach(e=>{i.elems.forEach(t=>{var s;t.style[e]="",t.classList.remove(...ci((null==(s=i.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,s=e.length;t<s;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,s=e.length;t<s;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,s){var i;const{top:r,left:n,width:a,height:o}=e.getBoundingClientRect(),l=t.getBoundingClientRect(),u=s||(null==(i=this.globalConfig.tooltip)?void 0:i.position);switch(u){case"left":t.style.top=r+o/2-l.height/2+"px",t.style.left=n-l.width-5+"px";break;case"top":t.style.top=r-l.height-5+"px",t.style.left=n+a/2-l.width/2+"px";break;case"right":t.style.top=r+o/2-l.height/2+"px",t.style.left=`${n+a+5}px`;break;case"bottom":t.style.top=`${r+o+5}px`,t.style.left=n+a/2-l.width/2+"px"}t.dataset.direction=u;return{refresh:()=>{this.renderTooltip(e,t,s)}}}createErrorLabelElem(e,t,s){const i=document.createElement("div");i.innerHTML=t;const r=this.isTooltip()?null==s?void 0:s.errorLabelStyle:(null==s?void 0:s.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(i.style,r),i.classList.add(...ci((null==s?void 0:s.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(i.dataset.tooltip="true"),this.globalConfig.testingMode&&(i.dataset.testId=`error-label-${e}`),this.errorLabels[e]=i,i}createSuccessLabelElem(e,t,s){if(void 0===t)return null;const i=document.createElement("div");i.innerHTML=t;const r=(null==s?void 0:s.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(i.style,r),i.classList.add(...ci((null==s?void 0:s.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(i.dataset.testId=`success-label-${e}`),this.successLabels[e]=i,i}renderErrorsContainer(e,t){const s=t||this.globalConfig.errorsContainer;if("string"==typeof s){const t=this.form.querySelector(s);if(t)return t.appendChild(e),!0;console.error(`Error container with ${s} selector not found. Errors will be rendered as usual`)}return s instanceof Element?(s.appendChild(e),!0):(void 0!==s&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,s,i){if(!i){if(this.renderErrorsContainer(t,s))return}e.appendChild(t)}renderFieldLabel(e,t,s,i){var r,n,a,o,l,u,h;if(!i){if(this.renderErrorsContainer(t,s))return}if("checkbox"===e.type||"radio"===e.type){const s=document.querySelector(`label[for="${e.getAttribute("id")}"]`);"label"===(null==(n=null==(r=e.parentElement)?void 0:r.tagName)?void 0:n.toLowerCase())?null==(o=null==(a=e.parentElement)?void 0:a.parentElement)||o.appendChild(t):s?null==(l=s.parentElement)||l.appendChild(t):null==(u=e.parentElement)||u.appendChild(t)}else null==(h=e.parentElement)||h.appendChild(t)}showLabels(e,t){Object.keys(e).forEach((s,i)=>{const r=e[s],n=this.getKeyByFieldSelector(s);if(!n||!this.fields[n])return void console.error("Field not found. Check the field selector.");const a=this.fields[n];a.isValid=!t,this.clearFieldStyle(n),this.clearFieldLabel(n),this.renderFieldError(n,!1,r),0===i&&this.globalConfig.focusInvalidField&&setTimeout(()=>a.elem.focus(),0)})}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t=!1,s){var i,r,n,a,o,l;const u=this.fields[e];if(!1===u.isValid&&(this.isValid=!1),void 0===u.isValid||!t&&!this.isSubmitted&&!u.touched&&void 0===s)return;if(u.isValid){if(!u.asyncCheckPending){const t=this.createSuccessLabelElem(e,void 0!==s?s:u.successMessage,u.config);t&&this.renderFieldLabel(u.elem,t,null==(i=u.config)?void 0:i.errorsContainer,!0),u.elem.classList.add(...ci((null==(r=u.config)?void 0:r.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}u.elem.classList.add(...ci((null==(n=u.config)?void 0:n.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const h=this.createErrorLabelElem(e,void 0!==s?s:u.errorMessage,u.config);this.renderFieldLabel(u.elem,h,null==(a=u.config)?void 0:a.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(u.elem,h,null==(l=null==(o=u.config)?void 0:o.tooltip)?void 0:l.position))}renderGroupError(e,t=!0){var s,i,r,n;const a=this.groupFields[e];if(!1===a.isValid&&(this.isValid=!1),void 0===a.isValid||!t&&!this.isSubmitted&&!a.touched)return;if(a.isValid){a.elems.forEach(e=>{var t,s;Object.assign(e.style,(null==(t=a.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...ci((null==(s=a.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass))});const t=this.createSuccessLabelElem(e,a.successMessage,a.config);return void(t&&this.renderGroupLabel(a.groupElem,t,null==(s=a.config)?void 0:s.errorsContainer,!0))}this.isValid=!1,a.elems.forEach(e=>{var t,s;Object.assign(e.style,(null==(t=a.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...ci((null==(s=a.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))});const o=this.createErrorLabelElem(e,a.errorMessage,a.config);this.renderGroupLabel(a.groupElem,o,null==(i=a.config)?void 0:i.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(a.groupElem,o,null==(n=null==(r=a.config)?void 0:r.tooltip)?void 0:n.position))}renderErrors(e=!1){if(this.isSubmitted||e||this.globalConfig.validateBeforeSubmitting){this.clearErrors(),this.isValid=!0;for(const e in this.groupFields)this.renderGroupError(e);for(const e in this.fields)this.renderFieldError(e)}}destroy(){this.eventListeners.forEach(e=>{this.removeListener(e.type,e.elem,e.func)}),Object.keys(this.customStyleTags).forEach(e=>{this.customStyleTags[e].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(e=>{const t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}onValidate(e){return this.onValidateCallback=e,this}}function mi(e){return"string"==typeof e||e instanceof String}function vi(e){var t;return"object"==typeof e&&null!=e&&"Object"===(null==e||null==(t=e.constructor)?void 0:t.name)}function yi(e,t){return Array.isArray(t)?yi(e,(e,s)=>t.includes(s)):Object.entries(e).reduce((e,s)=>{let[i,r]=s;return t(r,i)&&(e[i]=r),e},{})}const bi="NONE",ki="LEFT",_i="FORCE_LEFT",Ci="RIGHT",Ei="FORCE_RIGHT";function wi(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function xi(e,t){if(t===e)return!0;const s=Array.isArray(t),i=Array.isArray(e);let r;if(s&&i){if(t.length!=e.length)return!1;for(r=0;r<t.length;r++)if(!xi(t[r],e[r]))return!1;return!0}if(s!=i)return!1;if(t&&e&&"object"==typeof t&&"object"==typeof e){const s=t instanceof Date,i=e instanceof Date;if(s&&i)return t.getTime()==e.getTime();if(s!=i)return!1;const n=t instanceof RegExp,a=e instanceof RegExp;if(n&&a)return t.toString()==e.toString();if(n!=a)return!1;const o=Object.keys(t);for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=0;r<o.length;r++)if(!xi(e[o[r]],t[o[r]]))return!1;return!0}return!(!t||!e||"function"!=typeof t||"function"!=typeof e)&&t.toString()===e.toString()}class Fi{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?bi:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?ki:Ci}}function Si(e,t){return new Si.InputMask(e,t)}function Ai(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?Si.MaskedRegExp:mi(e)?Si.MaskedPattern:e===Date?Si.MaskedDate:e===Number?Si.MaskedNumber:Array.isArray(e)||e===Array?Si.MaskedDynamic:Si.Masked&&e.prototype instanceof Si.Masked?e:Si.Masked&&e instanceof Si.Masked?e.constructor:e instanceof Function?Si.MaskedFunction:(console.warn("Mask not found for mask",e),Si.Masked)}function Mi(e){if(!e)throw new Error("Options in not defined");if(Si.Masked){if(e.prototype instanceof Si.Masked)return{mask:e};const{mask:t,...s}=e instanceof Si.Masked?{mask:e}:vi(e)&&e.mask instanceof Si.Masked?e:{};if(t){const e=t.mask;return{...yi(t,(e,t)=>!t.startsWith("_")),mask:t.constructor,_mask:e,...s}}}return vi(e)?{...e}:{mask:e}}function Ii(e){if(Si.Masked&&e instanceof Si.Masked)return e;const t=Mi(e),s=Ai(t.mask);if(!s)throw new Error("Masked class is not found for provided mask "+t.mask+", appropriate module needs to be imported manually before creating mask.");return t.mask===s&&delete t.mask,t._mask&&(t.mask=t._mask,delete t._mask),new s(t)}Si.createMask=Ii;class Ti{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return null!=e?e:this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return null!=e?e:this.value.length}select(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}Si.MaskElement=Ti;class Li extends Ti{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,s;return null!=(e=null==(t=(s=this.input).getRootNode)?void 0:t.call(s))?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){return this._handlers.redo&&(90===e.keyCode&&e.shiftKey&&(e.metaKey||e.ctrlKey)||89===e.keyCode&&e.ctrlKey)?(e.preventDefault(),this._handlers.redo(e)):this._handlers.undo&&90===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),this._handlers.undo(e)):void(e.isComposing||this._handlers.selectionChange(e))}_onBeforeinput(e){return"historyUndo"===e.inputType&&this._handlers.undo?(e.preventDefault(),this._handlers.undo(e)):"historyRedo"===e.inputType&&this._handlers.redo?(e.preventDefault(),this._handlers.redo(e)):void 0}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}Si.HTMLMaskElement=Li;class Di extends Li{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}Si.HTMLMaskElement=Li;class Bi extends Li{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return null==i||null==s||s<i?s:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,i=t&&t.focusOffset;return null==i||null==s||s>i?s:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,e),s.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(s))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}Si.HTMLContenteditableMaskElement=Bi;class Pi{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return 0===this.states.length}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Pi.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Pi.MAX_LENGTH=100;Si.InputMask=class{constructor(e,t){this.el=e instanceof Ti?e:e.isContentEditable&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName?new Bi(e):new Di(e),this.masked=Ii(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Pi,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return null==e||(null==(t=this.masked)?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof Si.Masked)&&this.masked.constructor===Ai(e))return void this.masked.updateOptions({mask:e});const t=e instanceof Si.Masked?e:Ii({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const s=this._listeners[e];s&&s.forEach(e=>e(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){this.el&&this.el.isActive&&(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,s=this.masked.value,i=this.masked.rawInputValue,r=this.displayValue,n=this.unmaskedValue!==t||this.value!==s||this._rawInputValue!==i;this._unmaskedValue=t,this._value=s,this._rawInputValue=i,this.el.value!==r&&(this.el.value=r),"auto"===e?this.alignCursor():null!=e&&(this.cursorPos=e),n&&this._fireChangeEvents(),this._historyChanging||!n&&!this.history.isEmpty||this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...s}=e,i=!this.maskEquals(t),r=this.masked.optionsIsChanged(s);i&&(this.mask=t),r&&this.masked.updateOptions(s),(i||r)&&this.updateControl()}updateCursor(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,ki))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const s=this._listeners[e].indexOf(t);return s>=0&&this._listeners[e].splice(s,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new Fi({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=s===this.masked.rawInputValue?t.removeDirection:bi;let n=this.masked.nearestInputPos(t.startChangePos+i,r);r!==bi&&(n=this.masked.nearestInputPos(n,bi)),this.updateControl(n),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};class Vi{static normalize(e){return Array.isArray(e)?e:[e,new Vi]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return Boolean(this.rawInserted)||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}Si.ChangeDetails=Vi;class Oi{constructor(e,t,s){void 0===e&&(e=""),void 0===t&&(t=0),this.value=e,this.from=t,this.stop=s}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||null!=e&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class Ri{constructor(e){this._value="",this._update({...Ri.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){void 0===t&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,s){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new Oi(this.extractInput(e,t),e)}appendTail(e){return mi(e)&&(e=new Oi(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new Vi({inserted:e,rawInserted:e})):new Vi}_appendChar(e,t,s){void 0===t&&(t={});const i=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&"pad"===this.autofix)){const s=this.state;this.state=i;let n=this.pad(t);const a=this._appendCharRaw(e,t);n=n.aggregate(a),a.rawInserted||n.equals(r)?r=n:this.state=s}if(r.inserted){let e,n=!1!==this.doValidate(t);if(n&&null!=s){const t=this.state;if(!0===this.overwrite){e=s.state;for(let e=0;e<r.rawInserted.length;++e)s.unshift(this.displayValue.length-r.tailShift)}let i=this.appendTail(s);if(n=i.rawInserted.length===s.toString().length,!(n&&i.inserted||"shift"!==this.overwrite)){this.state=t,e=s.state;for(let e=0;e<r.rawInserted.length;++e)s.shift();i=this.appendTail(s),n=i.rawInserted.length===s.toString().length}n&&i.inserted&&(this.state=t)}n||(r=new Vi,this.state=i,s&&e&&(s.state=e))}return r}_appendPlaceholder(){return new Vi}_appendEager(){return new Vi}append(e,t,s){if(!mi(e))throw new Error("value should be string");const i=mi(s)?new Oi(String(s)):s;let r;null!=t&&t.tail&&(t._beforeTailState=this.state),[e,r]=this.doPrepare(e,t);for(let n=0;n<e.length;++n){const s=this._appendChar(e[n],t,i);if(!s.rawInserted&&!this.doSkipInvalid(e[n],t,i))break;r.aggregate(s)}return(!0===this.eager||"append"===this.eager)&&null!=t&&t.input&&e&&r.aggregate(this._appendEager()),null!=i&&(r.tailShift+=this.appendTail(i).tailShift),r}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new Vi}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,s=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==s&&0===s.indexOf(this.value)&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,s=e(this);return this.state=t,delete this._isolated,s}doSkipInvalid(e,t,s){return Boolean(this.skipInvalid)}doPrepare(e,t){return void 0===t&&(t={}),Vi.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return void 0===t&&(t={}),Vi.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,s,i,r){void 0===s&&(s=""),void 0===i&&(i=bi),void 0===r&&(r={input:!0});const n=e+t,a=this.extractTail(n),o=!0===this.eager||"remove"===this.eager;let l;o&&(i=function(e){switch(e){case ki:return _i;case Ci:return Ei;default:return e}}(i),l=this.extractInput(0,n,{raw:!0}));let u=e;const h=new Vi;if(i!==bi&&(u=this.nearestInputPos(e,t>1&&0!==e&&!o?bi:i),h.tailShift=u-e),h.aggregate(this.remove(u)),o&&i!==bi&&l===this.rawInputValue)if(i===_i){let e;for(;l===this.rawInputValue&&(e=this.displayValue.length);)h.aggregate(new Vi({tailShift:-1})).aggregate(this.remove(e-1))}else i===Ei&&a.unshift();return h.aggregate(this.append(s,r,a))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!xi(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||Ri.EMPTY_VALUES.includes(e)&&Ri.EMPTY_VALUES.includes(t)||!!this.format&&this.format(e,this)===this.format(this.typedValue,this)}pad(e){return new Vi}}Ri.DEFAULTS={skipInvalid:!0},Ri.EMPTY_VALUES=[void 0,null,""],Si.Masked=Ri;class zi{constructor(e,t){void 0===e&&(e=[]),void 0===t&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=mi(e)?new Oi(String(e)):e;const t=this.chunks[this.chunks.length-1],s=t&&(t.stop===e.stop||null==e.stop)&&e.from===t.from+t.toString().length;if(e instanceof Oi)s?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof zi){if(null==e.stop){let t;for(;e.chunks.length&&null==e.chunks[0].stop;)t=e.chunks.shift(),t.from+=e.from,this.extend(t)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof Si.MaskedPattern)){return new Oi(this.toString()).appendTo(e)}const t=new Vi;for(let s=0;s<this.chunks.length;++s){const i=this.chunks[s],r=e._mapPosToBlock(e.displayValue.length),n=i.stop;let a;if(null!=n&&(!r||r.index<=n)&&((i instanceof zi||e._stops.indexOf(n)>=0)&&t.aggregate(e._appendPlaceholder(n)),a=i instanceof zi&&e._blocks[n]),a){const s=a.appendTail(i);t.aggregate(s);const r=i.toString().slice(s.rawInserted.length);r&&t.aggregate(e.append(r,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...s}=e;Object.assign(this,s),this.chunks=t.map(e=>{const t="chunks"in e?new zi:new Oi;return t.state=e,t})}unshift(e){if(!this.chunks.length||null!=e&&this.from>=e)return"";const t=null!=e?e-this.from:e;let s=0;for(;s<this.chunks.length;){const e=this.chunks[s],i=e.unshift(t);if(e.toString()){if(!i)break;++s}else this.chunks.splice(s,1);if(i)return i}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],s=t.shift();if(t.toString()){if(!s)break;--e}else this.chunks.splice(e,1);if(s)return s}return""}}class Ni{constructor(e,t){this.masked=e,this._log=[];const{offset:s,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(t=this.block)?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,_i),0!==this.offset||void 0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,ki),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,ki),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,Ei),this.offset!==this.block.value.length||void 0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,bi),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,bi),!0})}}class ji{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new Vi}nearestInputPos(e,t){void 0===t&&(t=bi);const s=this._value.length;switch(t){case ki:case _i:return 0;default:return s}}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,s){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),void 0===s&&(s={}),s.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(e,t){if(void 0===t&&(t={}),this.isFilled)return new Vi;const s=!0===this.eager||"append"===this.eager,i=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!s)&&!t.tail,r=new Vi({inserted:this.char,rawInserted:i?this.char:""});return this._value=this.char,this._isRawInput=i&&(t.raw||t.input),r}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new Vi;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new Oi("")}appendTail(e){return mi(e)&&(e=new Oi(String(e))),e.appendTo(this)}append(e,t,s){const i=this._appendChar(e[0],t);return null!=s&&(i.tailShift+=this.appendTail(s).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=Boolean(e._rawInputValue)}pad(e){return this._appendPlaceholder()}}class qi{constructor(e){const{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:n,eager:a,...o}=e;this.masked=Ii(o),Object.assign(this,{parent:t,isOptional:s,placeholderChar:i,displayChar:r,lazy:n,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),0===e&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new Vi}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(e,t){if(void 0===t&&(t={}),this.isFilled)return new Vi;const s=this.masked.state;let i=this.masked._appendChar(e,this.currentMaskFlags(t));return i.inserted&&!1===this.doValidate(t)&&(i=new Vi,this.masked.state=s),i.inserted||this.isOptional||this.lazy||t.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=Boolean(i.inserted),i}append(e,t,s){return this.masked.append(e,this.currentMaskFlags(t),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new Vi:(this.isFilled=!0,new Vi({inserted:this.placeholderChar}))}_appendEager(){return new Vi}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,s){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.masked.extractInput(e,t,s)}nearestInputPos(e,t){void 0===t&&(t=bi);const s=this.value.length,i=Math.min(Math.max(e,0),s);switch(t){case ki:case _i:return this.isComplete?i:0;case Ci:case Ei:return this.isComplete?i:s;default:return i}}totalInputPositions(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(null==e||null==(t=e._beforeTailState)?void 0:t.masked)||(null==e?void 0:e._beforeTailState)}}pad(e){return new Vi}}qi.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};Si.MaskedRegExp=class extends Ri{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=e=>e.search(t)>=0),super._update(e)}};class $i extends Ri{constructor(e){super({...$i.DEFAULTS,...e,definitions:Object.assign({},qi.DEFAULT_DEFINITIONS,null==e?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let s=!1,i=!1;for(let r=0;r<t.length;++r){if(this.blocks){const e=t.slice(r),s=Object.keys(this.blocks).filter(t=>0===e.indexOf(t));s.sort((e,t)=>t.length-e.length);const i=s[0];if(i){const{expose:e,repeat:t,...s}=Mi(this.blocks[i]),n={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...s,repeat:t,parent:this},a=null!=t?new Si.RepeatBlock(n):Ii(n);a&&(this._blocks.push(a),e&&(this.exposeBlock=a),this._maskedBlocks[i]||(this._maskedBlocks[i]=[]),this._maskedBlocks[i].push(this._blocks.length-1)),r+=i.length-1;continue}}let n=t[r],a=n in e;if(n===$i.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===n||"}"===n){s=!s;continue}if("["===n||"]"===n){i=!i;continue}if(n===$i.ESCAPE_CHAR){if(++r,n=t[r],!n)break;a=!1}const o=a?new qi({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...Mi(e[n]),parent:this}):new ji({char:n,eager:this.eager,isUnmasking:s});this._blocks.push(o)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e)return void this.reset();const{_blocks:t,...s}=e;this._blocks.forEach((e,s)=>e.state=t[s]),super.state=s}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new Vi;let s=null==(e=this._mapPosToBlock(this.displayValue.length))?void 0:e.index;if(null==s)return t;this._blocks[s].isFilled&&++s;for(let i=s;i<this._blocks.length;++i){const e=this._blocks[i]._appendEager();if(!e.inserted)break;t.aggregate(e)}return t}_appendCharRaw(e,t){void 0===t&&(t={});const s=this._mapPosToBlock(this.displayValue.length),i=new Vi;if(!s)return i;for(let n,a=s.index;n=this._blocks[a];++a){var r;const s=n._appendChar(e,{...t,_beforeTailState:null==(r=t._beforeTailState)||null==(r=r._blocks)?void 0:r[a]});if(i.aggregate(s),s.consumed)break}return i}extractTail(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const s=new zi;return e===t||this._forEachBlocksInRange(e,t,(e,t,i,r)=>{const n=e.extractTail(i,r);n.stop=this._findStopBefore(t),n.from=this._blockStartPos(t),n instanceof zi&&(n.blockIndex=t),s.extend(n)}),s}extractInput(e,t,s){if(void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),void 0===s&&(s={}),e===t)return"";let i="";return this._forEachBlocksInRange(e,t,(e,t,r,n)=>{i+=e.extractInput(r,n,s)}),i}_findStopBefore(e){let t;for(let s=0;s<this._stops.length;++s){const i=this._stops[s];if(!(i<=e))break;t=i}return t}_appendPlaceholder(e){const t=new Vi;if(this.lazy&&null==e)return t;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return t;const i=s.index,r=null!=e?e:this._blocks.length;return this._blocks.slice(i,r).forEach(s=>{var i;s.lazy&&null==e||t.aggregate(s._appendPlaceholder(null==(i=s._blocks)?void 0:i.length))}),t}_mapPosToBlock(e){let t="";for(let s=0;s<this._blocks.length;++s){const i=this._blocks[s],r=t.length;if(t+=i.displayValue,e<=t.length)return{index:s,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((e,t)=>e+t.displayValue.length,0)}_forEachBlocksInRange(e,t,s){void 0===t&&(t=this.displayValue.length);const i=this._mapPosToBlock(e);if(i){const e=this._mapPosToBlock(t),r=e&&i.index===e.index,n=i.offset,a=e&&r?e.offset:this._blocks[i.index].displayValue.length;if(s(this._blocks[i.index],i.index,n,a),e&&!r){for(let t=i.index+1;t<e.index;++t)s(this._blocks[t],t,0,this._blocks[t].displayValue.length);s(this._blocks[e.index],e.index,0,e.offset)}}}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const s=super.remove(e,t);return this._forEachBlocksInRange(e,t,(e,t,i,r)=>{s.aggregate(e.remove(i,r))}),s}nearestInputPos(e,t){if(void 0===t&&(t=bi),!this._blocks.length)return 0;const s=new Ni(this,e);if(t===bi)return s.pushRightBeforeInput()?s.pos:(s.popState(),s.pushLeftBeforeInput()?s.pos:this.displayValue.length);if(t===ki||t===_i){if(t===ki){if(s.pushRightBeforeFilled(),s.ok&&s.pos===e)return e;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),t===ki){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=e)return s.pos;if(s.popState(),s.ok&&s.pos<=e)return s.pos;s.popState()}return s.ok?s.pos:t===_i?0:(s.popState(),s.ok?s.pos:(s.popState(),s.ok?s.pos:0))}return t===Ci||t===Ei?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:t===Ei?this.displayValue.length:(s.popState(),s.ok?s.pos:(s.popState(),s.ok?s.pos:this.nearestInputPos(e,ki)))):e}totalInputPositions(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);let s=0;return this._forEachBlocksInRange(e,t,(e,t,i,r)=>{s+=e.totalInputPositions(i,r)}),s}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(e=>this._blocks[e]):[]}pad(e){const t=new Vi;return this._forEachBlocksInRange(0,this.displayValue.length,s=>t.aggregate(s.pad(e))),t}}$i.DEFAULTS={...Ri.DEFAULTS,lazy:!0,placeholderChar:"_"},$i.STOP_CHAR="`",$i.ESCAPE_CHAR="\\",$i.InputDefinition=qi,$i.FixedDefinition=ji,Si.MaskedPattern=$i;class Yi extends $i{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:s=this.from||0,maxLength:i=this.maxLength||0,autofix:r=this.autofix,...n}=e;this.to=t,this.from=s,this.maxLength=Math.max(String(t).length,i),this.autofix=r;const a=String(this.from).padStart(this.maxLength,"0"),o=String(this.to).padStart(this.maxLength,"0");let l=0;for(;l<o.length&&o[l]===a[l];)++l;n.mask=o.slice(0,l).replace(/0/g,"\\0")+"0".repeat(this.maxLength-l),super._update(n)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(e){let t="",s="";const[,i,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(i.length)+r,s="9".repeat(i.length)+r),t=t.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[t,s]}doPrepareChar(e,t){let s;return void 0===t&&(t={}),[e,s]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(s.skip=!this.isComplete),[e,s]}_appendCharRaw(e,t){if(void 0===t&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const s=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[r,n]=this.boundaries(this.value+e);return Number(n)<this.from?super._appendCharRaw(s[this.value.length],t):Number(r)>this.to?!t.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(i[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(-1===t.search(/[^0]/)&&t.length<=this._matchFrom)return!0;const[s,i]=this.boundaries(t);return this.from<=Number(i)&&Number(s)<=this.to&&super.doValidate(e)}pad(e){const t=new Vi;if(this.value.length===this.maxLength)return t;const s=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let s=0;s<i;++s)t.aggregate(super._appendCharRaw("0",e));s.split("").forEach(e=>this._appendCharRaw(e))}return t}}Si.MaskedRange=Yi;class Ui extends $i{static extractPatternOptions(e){const{mask:t,pattern:s,...i}=e;return{...i,mask:mi(t)?t:s}}constructor(e){super(Ui.extractPatternOptions({...Ui.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:s,blocks:i,...r}={...Ui.DEFAULTS,...e},n=Object.assign({},Ui.GET_DEFAULT_BLOCKS());e.min&&(n.Y.from=e.min.getFullYear()),e.max&&(n.Y.to=e.max.getFullYear()),e.min&&e.max&&n.Y.from===n.Y.to&&(n.m.from=e.min.getMonth()+1,n.m.to=e.max.getMonth()+1,n.m.from===n.m.to&&(n.d.from=e.min.getDate(),n.d.to=e.max.getDate())),Object.assign(n,this.blocks,i),super._update({...r,mask:mi(t)?t:s,blocks:n})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&null!=t&&(null==this.min||this.min<=t)&&(null==this.max||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(Ui.extractPatternOptions(e))}}Ui.GET_DEFAULT_BLOCKS=()=>({d:{mask:Yi,from:1,to:31,maxLength:2},m:{mask:Yi,from:1,to:12,maxLength:2},Y:{mask:Yi,from:1900,to:9999}}),Ui.DEFAULTS={...$i.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(e,t)=>{if(!e)return"";return[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join(".")},parse:(e,t)=>{const[s,i,r]=e.split(".").map(Number);return new Date(r,i-1,s)}},Si.MaskedDate=Ui;class Hi extends Ri{constructor(e){super({...Hi.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(e=>{const{expose:t,...s}=Mi(e),i=Ii({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...s});return t&&(this.exposeMask=i),i}):[])}_appendCharRaw(e,t){void 0===t&&(t={});const s=this._applyDispatch(e,t);return this.currentMask&&s.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),s}_applyDispatch(e,t,s){void 0===e&&(e=""),void 0===t&&(t={}),void 0===s&&(s="");const i=t.tail&&null!=t._beforeTailState?t._beforeTailState._value:this.value,r=this.rawInputValue,n=t.tail&&null!=t._beforeTailState?t._beforeTailState._rawInputValue:r,a=r.slice(n.length),o=this.currentMask,l=new Vi,u=null==o?void 0:o.state;return this.currentMask=this.doDispatch(e,{...t},s),this.currentMask&&(this.currentMask!==o?(this.currentMask.reset(),n&&(this.currentMask.append(n,{raw:!0}),l.tailShift=this.currentMask.value.length-i.length),a&&(l.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):u&&(this.currentMask.state=u)),l}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new Vi;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,s;return{...e,_beforeTailState:(null==(t=e._beforeTailState)?void 0:t.currentMaskRef)===this.currentMask&&(null==(s=e._beforeTailState)?void 0:s.currentMask)||e._beforeTailState}}doDispatch(e,t,s){return void 0===t&&(t={}),void 0===s&&(s=""),this.dispatch(e,this,t,s)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){void 0===t&&(t={});let[s,i]=super.doPrepare(e,t);if(this.currentMask){let e;[s,e]=super.doPrepare(s,this.currentMaskFlags(t)),i=i.aggregate(e)}return[s,i]}doPrepareChar(e,t){void 0===t&&(t={});let[s,i]=super.doPrepareChar(e,t);if(this.currentMask){let e;[s,e]=super.doPrepareChar(s,this.currentMaskFlags(t)),i=i.aggregate(e)}return[s,i]}reset(){var e;null==(e=this.currentMask)||e.reset(),this.compiledMasks.forEach(e=>e.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask)return this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,void this._applyDispatch();let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isComplete)}get isFilled(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isFilled)}remove(e,t){const s=new Vi;return this.currentMask&&s.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),s}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(e=>e.state),currentMaskRef:this.currentMask,currentMask:null==(e=this.currentMask)?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:s,currentMask:i,...r}=e;t&&this.compiledMasks.forEach((e,s)=>e.state=t[s]),null!=s&&(this.currentMask=s,this.currentMask.state=i),super.state=r}extractInput(e,t,s){return this.currentMask?this.currentMask.extractInput(e,t,s):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,s)=>{if(!e[s])return;const{mask:i,...r}=e[s];return xi(t,r)&&t.maskEquals(i)}):super.maskEquals(e)}typedValueEquals(e){var t;return Boolean(null==(t=this.currentMask)?void 0:t.typedValueEquals(e))}}Hi.DEFAULTS={...Ri.DEFAULTS,dispatch:(e,t,s,i)=>{if(!t.compiledMasks.length)return;const r=t.rawInputValue,n=t.compiledMasks.map((n,a)=>{const o=t.currentMask===n,l=o?n.displayValue.length:n.nearestInputPos(n.displayValue.length,_i);return n.rawInputValue!==r?(n.reset(),n.append(r,{raw:!0})):o||n.remove(l),n.append(e,t.currentMaskFlags(s)),n.appendTail(i),{index:a,weight:n.rawInputValue.length,totalInputPositions:n.totalInputPositions(0,Math.max(l,n.nearestInputPos(n.displayValue.length,_i)))}});return n.sort((e,t)=>t.weight-e.weight||t.totalInputPositions-e.totalInputPositions),t.compiledMasks[n[0].index]}},Si.MaskedDynamic=Hi;class Gi extends $i{constructor(e){super({...Gi.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...s}=e;if(t){const e=t.map(e=>e.length),i=Math.min(...e),r=Math.max(...e)-i;s.mask="*".repeat(i),r&&(s.mask+="["+"*".repeat(r)+"]"),this.enum=t}super._update(s)}_appendCharRaw(e,t){void 0===t&&(t={});const s=Math.min(this.nearestInputPos(0,Ei),this.value.length),i=this.enum.filter(t=>this.matchValue(t,this.unmaskedValue+e,s));if(i.length){1===i.length&&this._forEachBlocksInRange(0,this.value.length,(e,s)=>{const r=i[0][s];s>=this.value.length||r===e.value||(e.reset(),e._appendChar(r,t))});const e=super._appendCharRaw(i[0][this.value.length],t);return 1===i.length&&i[0].slice(this.unmaskedValue.length).split("").forEach(t=>e.aggregate(super._appendCharRaw(t))),e}return new Vi({skip:!this.isComplete})}extractTail(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new Oi("",e)}remove(e,t){if(void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),e===t)return new Vi;const s=Math.min(super.nearestInputPos(0,Ei),this.value.length);let i;for(i=e;i>=0;--i){if(this.enum.filter(e=>this.matchValue(e,this.value.slice(s,i),s)).length>1)break}const r=super.remove(i,t);return r.tailShift+=i-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}Gi.DEFAULTS={...$i.DEFAULTS,matchValue:(e,t,s)=>e.indexOf(t,s)===s},Si.MaskedEnum=Gi;var Xi;Si.MaskedFunction=class extends Ri{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}};class Ki extends Ri{constructor(e){super({...Ki.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t=(this.scale?"("+wi(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+"\\d*"+t),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(wi).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(wi(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){void 0===t&&(t={});const[s,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!s&&(i.skip=!0),!s||this.allowPositive||this.value||"-"===s||i.aggregate(this._appendChar("-")),[s,i]}_separatorsCount(e,t){void 0===t&&(t=!1);let s=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++s,t&&(e+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(e){return void 0===e&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,s){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,s))}_appendCharRaw(e,t){void 0===t&&(t={});const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const n=this.number;let a,o=!isNaN(n),l=!1;if(o){let e;null!=this.min&&this.min<0&&this.number<this.min&&(e=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(e=this.max),null!=e&&(this.autofix?(this._value=this.format(e,this).replace(Ki.UNMASKED_RADIX,this.radix),l||(l=r===this._value&&!t.tail)):o=!1),o&&(o=Boolean(this._value.match(this._numberRegExp)))}o?a=new Vi({inserted:this._value.slice(r.length),rawInserted:l?"":e,skip:l}):(this._value=r,a=new Vi),this._value=this._insertThousandsSeparators(this._value);const u=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(u);return a.tailShift+=(h-i)*this.thousandsSeparator.length,a}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,t);if(s<=e)return s}return-1}_adjustRangeWithSeparators(e,t){const s=this._findSeparatorAround(e);s>=0&&(e=s);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const s=this.value.slice(0,e),i=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+i));const n=this._separatorsCountFromSlice(s);return new Vi({tailShift:(n-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case bi:case ki:case _i:{const s=this._findSeparatorAround(e-1);if(s>=0){const i=s+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===_i)return s}break}case Ci:case Ei:{const t=this._findSeparatorAround(e);if(t>=0)return t+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;null!=this.min&&(t=Math.max(t,this.min)),null!=this.max&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(e,t,s,i)=>t+i),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,s){void 0===t&&(t={});const i=0===this.scale&&e!==this.thousandsSeparator&&(e===this.radix||e===Ki.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,s)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,Ki.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(Ki.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}get allowPositive(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||Ki.EMPTY_VALUES.includes(e)&&Ki.EMPTY_VALUES.includes(this.typedValue))&&!(0===e&&""===this.value)}}Xi=Ki,Ki.UNMASKED_RADIX=".",Ki.EMPTY_VALUES=[...Ri.EMPTY_VALUES,0],Ki.DEFAULTS={...Ri.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[Xi.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:e=>e.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},Si.MaskedNumber=Ki;const Wi={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Zi(e,t,s){void 0===t&&(t=Wi.MASKED),void 0===s&&(s=Wi.MASKED);const i=Ii(e);return e=>i.runIsolated(i=>(i[t]=e,i[s]))}Si.PIPE_TYPE=Wi,Si.createPipe=Zi,Si.pipe=function(e,t,s,i){return Zi(t,s,i)(e)};Si.RepeatBlock=class extends $i{get repeatFrom(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?e:0}get repeatTo(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,s,i;const{repeat:r,...n}=Mi(e);this._blockOpts=Object.assign({},this._blockOpts,n);const a=Ii(this._blockOpts);this.repeat=null!=(t=null!=(s=null!=r?r:a.repeat)?s:this.repeat)?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(i=this._blocks)?void 0:i.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(e){return e<this._blocks.length?this._blocks[e]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(Ii(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}_appendCharRaw(e,t){void 0===t&&(t={});const s=new Vi;for(let o,l,u=null!=(i=null==(r=this._mapPosToBlock(this.displayValue.length))?void 0:r.index)?i:Math.max(this._blocks.length-1,0);o=null!=(n=this._blocks[u])?n:l=!l&&this._allocateBlock(u);++u){var i,r,n,a;const h=o._appendChar(e,{...t,_beforeTailState:null==(a=t._beforeTailState)||null==(a=a._blocks)?void 0:a[u]});if(h.skip&&l){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(h),h.consumed)break}return s}_trimEmptyTail(e,t){var s,i;void 0===e&&(e=0);const r=Math.max((null==(s=this._mapPosToBlock(e))?void 0:s.index)||0,this.repeatFrom,0);let n;null!=t&&(n=null==(i=this._mapPosToBlock(t))?void 0:i.index),null==n&&(n=this._blocks.length-1);let a=0;for(let o=n;r<=o&&!this._blocks[o].unmaskedValue;--o,++a);a&&(this._blocks.splice(n-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);const s=super.remove(e,t);return this._trimEmptyTail(e,t),s}totalInputPositions(e,t){return void 0===e&&(e=0),null==t&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}};try{globalThis.IMask=Si}catch{}const Ji=f(p());const Qi=f(g());var er,tr={exports:{}};er||(er=1,tr.exports=function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(e),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return s.default.locale(i,null,!0),i}(g())),Qi.locale("es"),h.registerPlugin(Es);const sr=new d({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,wheelMultiplier:1,smoothTouch:!1,touchMultiplier:2,infinite:!1});requestAnimationFrame(function e(t){sr.raf(t),requestAnimationFrame(e)}),sr.on("scroll",Es.update),h.ticker.add(e=>{sr.raf(1e3*e)}),h.ticker.lagSmoothing(0);const ir=document.getElementById("navbar");window.addEventListener("scroll",()=>{window.pageYOffset>100?ir.classList.add("scrolled"):ir.classList.remove("scrolled")});const rr=document.getElementById("mobile-menu-btn"),nr=document.getElementById("mobile-menu");rr&&rr.addEventListener("click",()=>{nr.classList.toggle("hidden")});const ar=null==nr?void 0:nr.querySelectorAll("a");null==ar||ar.forEach(e=>{e.addEventListener("click",()=>{nr.classList.add("hidden")})}),h.from(".hero-title",{opacity:0,y:60,duration:1.2,delay:.1,ease:"power3.out"}),h.from(".hero-subtitle",{opacity:0,y:40,duration:1,delay:.4,ease:"power3.out"}),h.from(".hero-cta",{opacity:0,y:30,duration:1,delay:.7,ease:"power3.out"}),h.from(".hero-image",{opacity:0,x:50,duration:1.2,delay:.3,ease:"power3.out"}),h.from(".value-prop-title",{opacity:0,y:40,duration:1,ease:"power2.out",scrollTrigger:{trigger:"#value-proposition",start:"top 70%",toggleActions:"play none none reverse"}}),h.from(".value-pillar",{opacity:0,y:60,duration:1,stagger:.15,ease:"power2.out",clearProps:"all",scrollTrigger:{trigger:"#value-proposition",start:"top 60%",toggleActions:"play none none reverse"}}),h.from(".about-photo",{opacity:0,x:-60,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:"#sobre-especialista",start:"top 65%",toggleActions:"play none none reverse"}}),h.from(".about-content",{opacity:0,x:60,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:"#sobre-especialista",start:"top 65%",toggleActions:"play none none reverse"}}),h.from(".credential-card",{opacity:0,y:40,duration:.8,stagger:.1,ease:"power2.out",clearProps:"all",scrollTrigger:{trigger:".credentials-grid",start:"top 75%",toggleActions:"play none none reverse"}}),h.from("#areas-especializacion .section-title",{opacity:0,y:30,duration:.8,ease:"power2.out",scrollTrigger:{trigger:"#areas-especializacion",start:"top 70%",toggleActions:"play none none reverse"}}),h.from("#areas-especializacion .aspect-square",{opacity:0,scale:.9,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:"#areas-especializacion",start:"top 60%",toggleActions:"play none none reverse"}}),h.from(".benefit-item",{opacity:0,x:e=>e<3?-40:40,duration:.8,stagger:.15,ease:"power2.out",clearProps:"all",scrollTrigger:{trigger:"#areas-especializacion",start:"top 55%",toggleActions:"play none none reverse"}}),h.to(".parallax-bg",{yPercent:30,ease:"none",scrollTrigger:{trigger:".hero-section",start:"top top",end:"bottom top",scrub:!0}}),h.utils.toArray(".service-card").forEach((e,t)=>{h.from(e,{opacity:0,y:50,duration:.8,delay:.2*t,scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})}),h.from(".about-image",{opacity:0,x:50,duration:1,scrollTrigger:{trigger:".about-image",start:"top 70%",toggleActions:"play none none reverse"}}),h.from(".faq-item",{opacity:0,y:30,duration:.6,stagger:.1,scrollTrigger:{trigger:".faq-item",start:"top 80%",toggleActions:"play none none reverse"}});m(".lozad",{loaded:e=>{e.classList.add("animate-fade-in")}}).observe(),new c(".testimonial-swiper",{modules:[Ps,Vs],loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:30,slidesPerView:1,speed:600});new class extends Qs{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Ys(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(function(e){return"button"in e&&1===e.button||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};t.x||t.y||(t=null);let s=this.getClickedIndex(e);s=this.applyFilters("clickedIndex",s,e,this);const i={gallery:e.currentTarget};s>=0&&(e.preventDefault(),this.loadAndOpen(s,i,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,s=Ys(this.options.children,this.options.childSelector,e.currentTarget).findIndex(e=>e===t||e.contains(t));return-1!==s?s:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,s){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const e=Ys(this.options.gallery);e[0]&&(t={gallery:e[0]})}return this.options.index=e,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:s}=this;t&&(s.dataSource=t);const i=[],r=typeof s.pswpModule;if("function"==typeof(n=s.pswpModule)&&n.prototype&&n.prototype.goTo)i.push(Promise.resolve(s.pswpModule));else{if("string"===r)throw new Error("pswpModule as string is no longer supported");if("function"!==r)throw new Error("pswpModule is not valid");i.push(s.pswpModule())}var n;"function"==typeof s.openPromise&&i.push(s.openPromise()),!1!==s.preloadFirstSlide&&e>=0&&(this._preloadedContent=function(e,t){const s=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:s}).defaultPrevented)return Js(s,t,e)}(e,this));const a=++this._uid;Promise.all(i).then(e=>{if(this.shouldOpen){const t=e[0];this._openPhotoswipe(t,a)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const s="object"==typeof e?new e.default(this.options):new e(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(e=>{var t;null===(t=this._listeners[e])||void 0===t||t.forEach(t=>{s.on(e,t)})}),Object.keys(this._filters).forEach(e=>{var t;null===(t=this._filters[e])||void 0===t||t.forEach(t=>{s.addFilter(e,t.fn,t.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var e;null===(e=this.pswp)||void 0===e||e.destroy(),this.shouldOpen=!1,this._listeners={},Ys(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.removeEventListener("click",this.onThumbnailsClick,!1)})}}({gallery:"#gallery",children:"a",pswpModule:()=>function(e,t){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(null==i?void 0:i.nonce)||(null==i?void 0:i.getAttribute("nonce"));s=e(t.map(e=>{if((e=function(e){return"/nutrimonse/"+e}(e))in v)return;v[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,s)=>{i.addEventListener("load",t),i.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})}(()=>import("./photoswipe.esm-Ct2-qzgb.js"),[]),paddingFn:e=>({top:30,bottom:30,left:30,right:30})}).init();const or=document.querySelectorAll(".faq-item");or.forEach(e=>{const t=e.querySelector(".faq-question"),s=e.querySelector(".faq-answer");t.addEventListener("click",()=>{const t=e.classList.contains("active");or.forEach(t=>{t!==e&&(t.classList.remove("active"),t.querySelector(".faq-answer").classList.add("hidden"))}),t?(e.classList.remove("active"),s.classList.add("hidden")):(e.classList.add("active"),s.classList.remove("hidden"))})});const lr=document.getElementById("contact-form");if(lr){new gi("#contact-form",{errorFieldCssClass:"border-red-500",errorLabelCssClass:"text-red-500 text-sm mt-1",successFieldCssClass:"border-green-500"}).addField("#name",[{rule:"required",errorMessage:"El nombre es requerido"},{rule:"minLength",value:3,errorMessage:"El nombre debe tener al menos 3 caracteres"}]).addField("#email",[{rule:"required",errorMessage:"El email es requerido"},{rule:"email",errorMessage:"Ingresa un email válido"}]).addField("#phone",[{rule:"required",errorMessage:"El teléfono es requerido"}]).addField("#location",[{rule:"required",errorMessage:"Selecciona una ubicación"}]).onSuccess(e=>{e.preventDefault();const t=new FormData(lr),s=Object.fromEntries(t);console.log("Formulario enviado:",s),alert("¡Gracias por tu mensaje! 🎉\n\nNos pondremos en contacto contigo pronto para agendar tu consulta."),lr.reset()});const e=document.getElementById("phone");e&&Si(e,{mask:"+{52} 00 0000 0000",lazy:!1})}new Ji(".copy-address",{text:function(e){return e.getAttribute("data-address")}}).on("success",function(e){const t=e.trigger.textContent;e.trigger.textContent="✓ Copiado!",e.trigger.classList.add("bg-green-500","text-white"),setTimeout(()=>{e.trigger.textContent=t,e.trigger.classList.remove("bg-green-500","text-white")},2e3),e.clearSelection()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&sr.scrollTo(t,{offset:-80,duration:1.2})})});document.querySelectorAll(".hero-section img[data-src]").forEach(e=>{const t=e.getAttribute("data-src");if(t){const e=document.createElement("link");e.href=t,e.rel="preload",e.as="image",document.head.appendChild(e)}}),new c(".testimonials-swiper",{modules:[function({swiper:e,extendParams:t,on:r,emit:n}){function a(t){let s;return t&&"string"==typeof t&&e.isElement&&(s=e.el.querySelector(t)||e.hostEl.querySelector(t),s)?s:(t&&("string"==typeof t&&(s=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&s&&s.length>1&&1===e.el.querySelectorAll(t).length?s=e.el.querySelector(t):s&&1===s.length&&(s=s[0])),t&&!s?t:s)}function o(t,i){const r=e.params.navigation;(t=s(t)).forEach(t=>{t&&(t.classList[i?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=i),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](r.lockClass))})}function l(){const{nextEl:t,prevEl:s}=e.navigation;if(e.params.loop)return o(s,!1),void o(t,!1);o(s,e.isBeginning&&!e.params.rewind),o(t,e.isEnd&&!e.params.rewind)}function u(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function h(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function d(){const t=e.params.navigation;if(e.params.navigation=Ds(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let r=a(t.nextEl),n=a(t.prevEl);Object.assign(e.navigation,{nextEl:r,prevEl:n}),r=s(r),n=s(n);const o=(s,r)=>{if(s){if(t.addIcons&&s.matches(".swiper-button-next,.swiper-button-prev")&&!s.querySelector("svg")){const e=document.createElement("div");i(e,'<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>'),s.appendChild(e.querySelector("svg")),e.remove()}s.addEventListener("click","next"===r?h:u)}!e.enabled&&s&&s.classList.add(...t.lockClass.split(" "))};r.forEach(e=>o(e,"next")),n.forEach(e=>o(e,"prev"))}function c(){let{nextEl:t,prevEl:i}=e.navigation;t=s(t),i=s(i);const r=(t,s)=>{t.removeEventListener("click","next"===s?h:u),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach(e=>r(e,"next")),i.forEach(e=>r(e,"prev"))}t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},r("init",()=>{!1===e.params.navigation.enabled?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{c()}),r("enable disable",()=>{let{nextEl:t,prevEl:i}=e.navigation;t=s(t),i=s(i),e.enabled?l():[...t,...i].filter(e=>!!e).forEach(t=>t.classList.add(e.params.navigation.lockClass))}),r("click",(t,i)=>{let{nextEl:r,prevEl:a}=e.navigation;r=s(r),a=s(a);const o=i.target;let l=a.includes(o)||r.includes(o);if(e.isElement&&!l){const e=i.path||i.composedPath&&i.composedPath();e&&(l=e.find(e=>r.includes(e)||a.includes(e)))}if(e.params.navigation.hideOnClick&&!l){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;let t;r.length?t=r[0].classList.contains(e.params.navigation.hiddenClass):a.length&&(t=a[0].classList.contains(e.params.navigation.hiddenClass)),n(!0===t?"navigationShow":"navigationHide"),[...r,...a].filter(e=>!!e).forEach(t=>t.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),c()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},disable:p,update:l,init:d,destroy:c})},Ps,Vs,function({swiper:e,extendParams:t,on:s}){t({fadeEffect:{crossFade:!1}}),function(e){const{effect:t,swiper:s,on:i,setTranslate:r,setTransition:n,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:u}=e;let h;i("beforeInit",()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),o&&o()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)}),i("setTranslate _virtualUpdated",()=>{s.params.effect===t&&r()}),i("setTransition",(e,i)=>{s.params.effect===t&&n(i)}),i("transitionEnd",()=>{if(s.params.effect===t&&l){if(!u||!u().slideShadows)return;s.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),i("virtualUpdate",()=>{s.params.effect===t&&(s.slides.length||(h=!0),requestAnimationFrame(()=>{h&&s.slides&&s.slides.length&&(r(),h=!1)}))})}({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e;e.params.fadeEffect;for(let s=0;s<t.length;s+=1){const t=e.slides[s];let i=-t.swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);let r=0;e.isHorizontal()||(r=i,i=0);const n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),a=Os(0,t);a.style.opacity=n,a.style.transform=`translate3d(${i}px, ${r}px, 0px)`}},setTransition:t=>{const s=e.slides.map(e=>l(e));s.forEach(e=>{e.style.transitionDuration=`${t}ms`}),function({swiper:e,duration:t,transformElements:s,allSlides:i}){const{activeIndex:r}=e;if(e.params.virtualTranslate&&0!==t){let t,i=!1;t=s,t.forEach(t=>{u(t,()=>{if(i)return;if(!e||e.destroyed)return;i=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)})})}}({swiper:e,duration:t,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}],effect:"fade",fadeEffect:{crossFade:!0},speed:800,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".swiper-button-next.testimonial-nav",prevEl:".swiper-button-prev.testimonial-nav"},pagination:{el:".swiper-pagination.testimonial-pagination",clickable:!0,dynamicBullets:!1},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,on:{init:function(){console.log("Swiper de testimonios inicializado")}}}),console.log("%c🍓 Nutrimonse","color: #e74c64; font-size: 24px; font-weight: bold;"),console.log("%cSitio desarrollado con amor y las mejores prácticas web 💚","color: #22c55e; font-size: 14px;"),window.addEventListener("error",e=>{console.error("Error detectado:",e.message)});
